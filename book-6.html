<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>免费开发者工具导航</title>
  <meta name="description" content="整理各类免费开发者工具，方便 GitHub 用户快速获取和使用">
  <meta name="keywords" content="免费工具, 开发者, GitHub, 前端, 后端, 数据库, AI, 测试">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-gray-100 font-sans antialiased">

  <!-- 面包屑导航 -->
  <nav class="text-sm text-gray-400 mt-6 ml-6 space-x-1 animate-fadeIn">
    <a href="/" class="hover:text-cyan-400">首页</a> &gt;
    <a href="/free" class="hover:text-cyan-400">资源分类</a> &gt;
    <span class="text-gray-200">全部资源</span>
  </nav>

  <main class="max-w-5xl mx-auto px-6 py-12 space-y-6">

    <h1 class="text-4xl font-bold mb-6 animate-fadeInUp">免费开发者工具导航</h1>

    <!-- 搜索框 -->
    <section class="mb-6 animate-fadeInUp">
      <input type="text" id="searchInput" placeholder="搜索资源..."
        class="w-full px-4 py-2 rounded-lg bg-gray-800 text-gray-100 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-500" />
    </section>

    <!-- 收藏 + 分享 -->
    <section class="flex items-center gap-4 animate-fadeInUp">
      <button id="bookmarkBtn"
        class="px-4 py-2 rounded-lg bg-cyan-500 hover:bg-cyan-600 text-white font-medium transition">
        加入收藏
      </button>
      <div id="bookmarkList" class="text-sm text-gray-300"></div>
      <div class="ml-auto flex gap-3">
        <button onclick="navigator.clipboard.writeText(location.href)"
          class="text-gray-400 hover:text-cyan-400 transition">复制链接</button>
        <a href="https://twitter.com/intent/tweet?text=推荐免费开发者工具导航&url=https://rinuo.com/free"
           target="_blank" class="text-gray-400 hover:text-cyan-400 transition">分享到 Twitter</a>
      </div>
    </section>

    <!-- 资源分类列表 -->
    <section id="categories" class="space-y-4 animate-fadeInUp">
      <!-- 分类模板由 JS 渲染 -->
    </section>

    <!-- 邮件订阅 -->
    <section class="max-w-3xl mx-auto px-6 py-8 animate-fadeInUp">
      <h2 class="text-2xl font-semibold mb-4 text-cyan-400">订阅更新</h2>
      <div class="flex flex-col sm:flex-row gap-3">
        <input type="email" id="subscribeEmail" placeholder="输入邮箱订阅最新资源"
          class="flex-1 px-4 py-2 rounded-lg bg-gray-900 text-gray-100 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-500" />
        <button id="subscribeBtn"
          class="px-4 py-2 rounded-lg bg-cyan-500 hover:bg-cyan-600 text-white font-medium transition">
          订阅
        </button>
      </div>
      <div id="subscriptionMessage" class="mt-3 text-sm text-cyan-400"></div>
    </section>

  </main>

  <!-- 底部 -->
  <footer class="text-center text-gray-500 text-sm py-8 border-t border-gray-800">
    <a href="/sitemap" class="hover:text-cyan-400">网站地图</a> · 免费开发者工具导航 © 2023
  </footer>

  <!-- 动画 -->
  <style>
    @keyframes fadeIn { from {opacity:0} to {opacity:1} }
    @keyframes fadeInUp { from {opacity:0; transform:translateY(20px)} to {opacity:1; transform:translateY(0)} }
    .animate-fadeIn { animation: fadeIn 1s ease forwards; }
    .animate-fadeInUp { animation: fadeInUp 0.8s ease forwards; }
  </style>

  <!-- 功能脚本 -->
  <script type="module">
    import { readBookmarks, toggleBookmarkCurrent, renderBookmarkList } from '/main.js';

    // 分类数据
    const data = {
      "基础软件 / 操作系统": ["7-zip","linux","ubuntu","centos"],
      "版本管理 & 协作": ["github","bitbucket","copilot","cursor","vscode","trello","asana","glitch","notion"],
      "前端框架 & UI": ["react","vue","svelte","tailwind","bootstrap","d3","chart","echarts","highcharts","postcss","sass","less","prettier","eslint"],
      "后端 & API": ["fastapi","laravel","symfony","nginx","apache","postman","swagger"],
      "数据库": ["mysql","postgresql","sqlite","mongodb","redis","supabase","dbeaver"],
      "包管理": ["npm","pnpm","yarn"],
      "DevOps & 部署": ["docker","netlify","vercel","render","fly-io","cloudflare","cloudflare-warp"],
      "AI / ML": ["openai","deepseek","doubao","gradio","kaggle","pytorch"],
      "设计 & 资源": ["figma","lottiefiles","unsplash","excalidraw","canva"],
      "测试 & 代码质量": ["jest","vitest","eslint","prettier"],
      "实用 API / Mock": ["mock-api","json-placeholder","reqres"]
    };

    const container = document.getElementById('categories');

    function renderCategories(filter="") {
      container.innerHTML = "";
      Object.entries(data).forEach(([category, items]) => {
        const catDiv = document.createElement("div");
        const title = document.createElement("h2");
        title.textContent = category;
        title.className = "text-2xl font-semibold mb-2 text-cyan-400 cursor-pointer select-none";
        title.addEventListener("click", ()=> list.classList.toggle("hidden"));

        const list = document.createElement("ul");
        list.className = "flex flex-wrap gap-4 mb-4";
        items.forEach(name => {
          if(name.toLowerCase().includes(filter.toLowerCase())){
            const li = document.createElement("li");
            const a = document.createElement("a");
            a.href = `/free/detail/${name}.html`;
            a.textContent = name;
            a.className = "hover:underline";
            li.appendChild(a);
            list.appendChild(li);
          }
        });
        if(list.children.length === 0) return; // 过滤后为空跳过

        catDiv.appendChild(title);
        catDiv.appendChild(list);
        container.appendChild(catDiv);
      });
    }

    // 初次渲染
    renderCategories();

    // 搜索功能
    document.getElementById("searchInput").addEventListener("input", (e)=>{
      renderCategories(e.target.value);
    });

    // 初始化收藏按钮
    document.getElementById("bookmarkBtn")?.addEventListener("click", () => {
      toggleBookmarkCurrent();
      renderBookmarkList();
    });

    // 渲染收藏列表
    renderBookmarkList();
  </script>
</body>
</html>