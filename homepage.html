<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Free Resources Demo</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  .search-bar { margin-bottom: 10px; }
  .tags { margin-bottom: 20px; }
  .tag { display: inline-block; padding: 5px 10px; margin: 3px; background: #eee; cursor: pointer; }
  .tag.selected { background: #ccc; }
  .resource-list { display: flex; flex-wrap: wrap; gap: 10px; }
  .resource-card { border: 1px solid #ddd; padding: 10px; width: 200px; }
  .resource-tags { margin-top: 5px; font-size: 12px; color: #555; }
  .pagination { margin-top: 20px; }
  .page-btn { margin: 0 5px; cursor: pointer; }
</style>
</head>
<body>

<h1>Free Resources Total Classification</h1>

<div class="search-bar">
  <input type="text" id="searchInput" placeholder="Search resources...">
</div>

<div class="tags" id="tagFilter">
  <!-- Tags will be rendered here -->
</div>

<div class="resource-list" id="resourceList">
  <!-- Resource cards will be rendered here -->
</div>

<div class="pagination" id="pagination">
  <!-- Pagination buttons will be rendered here -->
</div>

<script>
// Sample data
const resources = [
  {name: "vscode.html", title: "VSCode", tags: ["IDE", "编辑器", "AI编辑器", "开发工具"]},
  {name: "copilot.html", title: "GitHub Copilot", tags: ["AI工具", "AI编辑器", "IDE", "开发辅助"]},
  {name: "leetcode.html", title: "LeetCode", tags: ["教育", "算法训练", "学习", "编程"]},
  {name: "figma.html", title: "Figma", tags: ["设计", "UI", "原型设计"]},
  {name: "freecodecamp.html", title: "FreeCodeCamp", tags: ["教育", "学习", "编程"]},
  {name: "flutter.html", title: "Flutter", tags: ["前端", "移动开发"]},
  {name: "docker.html", title: "Docker", tags: ["DevOps", "容器管理"]},
  {name: "kubernetes.html", title: "Kubernetes", tags: ["DevOps", "容器编排"]},
  {name: "gradio.html", title: "Gradio", tags: ["AI工具", "Web界面生成"]},
];

// Extract unique tags
const allTags = [...new Set(resources.flatMap(r => r.tags))];

let selectedTags = [];
let currentPage = 1;
const pageSize = 4;

// Render tag filter
const tagContainer = document.getElementById("tagFilter");
allTags.forEach(tag => {
  const span = document.createElement("span");
  span.className = "tag";
  span.textContent = tag;
  span.onclick = () => {
    if (selectedTags.includes(tag)) {
      selectedTags = selectedTags.filter(t => t !== tag);
      span.classList.remove("selected");
    } else {
      selectedTags.push(tag);
      span.classList.add("selected");
    }
    currentPage = 1;
    renderResources();
  };
  tagContainer.appendChild(span);
});

// Filter resources by search and tags
function filterResources() {
  const searchText = document.getElementById("searchInput").value.toLowerCase();
  return resources.filter(r => {
    const tagMatch = selectedTags.length === 0 || selectedTags.every(t => r.tags.includes(t));
    const textMatch = !searchText || r.title.toLowerCase().includes(searchText);
    return tagMatch && textMatch;
  });
}

// Render resource cards
function renderResources() {
  const list = document.getElementById("resourceList");
  const pagination = document.getElementById("pagination");
  list.innerHTML = "";
  pagination.innerHTML = "";

  const filtered = filterResources();
  const totalPages = Math.ceil(filtered.length / pageSize);
  const pageResources = filtered.slice((currentPage - 1) * pageSize, currentPage * pageSize);

  pageResources.forEach(r => {
    const div = document.createElement("div");
    div.className = "resource-card";
    div.innerHTML = `<strong><a href="${r.name}">${r.title}</a></strong>
                     <div class="resource-tags">${r.tags.join(", ")}</div>`;
    list.appendChild(div);
  });

  // Render pagination
  for (let i = 1; i <= totalPages; i++) {
    const btn = document.createElement("span");
    btn.className = "page-btn";
    btn.textContent = i;
    if (i === currentPage) btn.style.fontWeight = "bold";
    btn.onclick = () => { currentPage = i; renderResources(); };
    pagination.appendChild(btn);
  }
}

// Search input event
document.getElementById("searchInput").addEventListener("input", () => {
  currentPage = 1;
  renderResources();
});

// Initial render
renderResources();
</script>

</body>
</html>