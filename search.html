<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Developer Tools | FreeDevTools</title>
    <!-- Meta Tags for SEO -->
    <meta name="description" content="Search 1000+ free developer tools, frameworks and resources. Find the best tools for your project with advanced filtering and sorting options." />
    <meta name="keywords" content="developer tools search, programming resources, free tools, search developer tools, filter tools" />
    <meta name="author" content="FreeDevTools" />
    <link rel="canonical" href="https://rinuo.com/search.html" />
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Search Developer Tools | FreeDevTools" />
    <meta property="og:description" content="Search 1000+ free developer tools, frameworks and resources. Find the best tools for your project." />
    <meta property="og:url" content="https://rinuo.com/search.html" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://picsum.photos/1200/630?random=2" />
    <meta property="og:image:alt" content="Search Developer Tools" />
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Search Developer Tools | FreeDevTools" />
    <meta name="twitter:description" content="Search 1000+ free developer tools, frameworks and resources." />
    <meta name="twitter:image" content="https://picsum.photos/1200/630?random=2" />
    <!-- Sitemap Link -->
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.html" />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5',
                        secondary: '#10B981',
                        accent: '#F59E0B',
                        dark: {
                            50: '#F9FAFB',
                            100: '#F3F4F6',
                            200: '#E5E7EB',
                            300: '#D1D5DB',
                            400: '#9CA3AF',
                            500: '#6B7280',
                            600: '#4B5563',
                            700: '#374151',
                            800: '#1F2937',
                            900: '#111827'
                        }
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <!-- Custom Styles -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .bg-gradient-hero {
                background: linear-gradient(135deg, #4F46E5 0%, #312E81 100%);
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
            .search-result-highlight {
                @apply bg-yellow-200 dark:bg-yellow-900 text-black dark:text-yellow-100 font-medium;
            }
            .skeleton-loading {
                @apply animate-pulse bg-gray-200 dark:bg-dark-700 rounded;
            }
        }
    </style>
</head>
<body class="font-inter bg-gray-50 text-gray-800 dark:bg-dark-900 dark:text-dark-50 transition-colors duration-300">
    <!-- Scroll Progress Indicator -->
    <div id="scrollProgress" class="fixed top-0 left-0 h-1 bg-secondary transform origin-left scale-x-0 transition-transform duration-200 z-50"></div>

    <!-- Navigation Bar -->
    <header id="navbar" class="sticky top-0 bg-white/95 dark:bg-dark-800/95 backdrop-blur-sm shadow-sm z-40 transition-all duration-300">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <a href="/" class="flex items-center space-x-2">
                    <i class="fa fa-code text-2xl text-primary"></i>
                    <span class="text-xl font-bold text-primary">FreeDevTools</span>
                </a>

                <!-- Search Bar - Desktop -->
                <div class="hidden md:flex flex-1 max-w-md mx-8">
                    <div class="relative w-full">
                        <input type="text" id="searchInput" placeholder="Search 1000+ developer tools..." 
                            class="w-full py-2 pl-10 pr-4 rounded-full border border-gray-200 dark:border-dark-700 bg-gray-100 dark:bg-dark-700 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all">
                        <i class="fa fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>

                <!-- Navigation Links -->
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="/" class="font-medium hover:text-primary dark:hover:text-secondary transition-colors">Home</a>
                    <a href="/category.html" class="font-medium hover:text-primary dark:hover:text-secondary transition-colors">Categories</a>
                    <a href="/free/index.html" class="font-medium hover:text-primary dark:hover:text-secondary transition-colors">Free Tools</a>
                    <a href="/about.html" class="font-medium hover:text-primary dark:hover:text-secondary transition-colors">About</a>
                </nav>

                <!-- Theme Toggle -->
                <button id="themeToggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-dark-700 transition-colors">
                    <i class="fa fa-moon-o dark:hidden text-xl"></i>
                    <i class="fa fa-sun-o hidden dark:block text-xl text-accent"></i>
                </button>

                <!-- Mobile Menu Button -->
                <button id="mobileMenuBtn" class="md:hidden p-2 rounded-md hover:bg-gray-200 dark:hover:bg-dark-700 transition-colors">
                    <i class="fa fa-bars text-xl"></i>
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobileMenu" class="md:hidden hidden bg-white dark:bg-dark-800 shadow-lg">
            <div class="container mx-auto px-4 py-3">
                <div class="mb-4">
                    <input type="text" placeholder="Search tools..." 
                        class="w-full py-2 pl-10 pr-4 rounded-lg border border-gray-200 dark:border-dark-700 bg-gray-100 dark:bg-dark-700 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all">
                    <i class="fa fa-search absolute left-8 top-[6.5rem] transform -translate-y-1/2 text-gray-400"></i>
                </div>
                <nav class="flex flex-col space-y-3 pb-3">
                    <a href="/" class="py-2 font-medium hover:text-primary dark:hover:text-secondary transition-colors">Home</a>
                    <a href="/category.html" class="py-2 font-medium hover:text-primary dark:hover:text-secondary transition-colors">Categories</a>
                    <a href="/free/index.html" class="py-2 font-medium hover:text-primary dark:hover:text-secondary transition-colors">Free Tools</a>
                    <a href="/about.html" class="py-2 font-medium hover:text-primary dark:hover:text-secondary transition-colors">About</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-6">
        <!-- Breadcrumb Navigation -->
        <nav class="flex items-center text-sm mb-6" aria-label="Breadcrumb">
            <ol class="flex items-center space-x-2">
                <li><a href="/" class="hover:text-primary dark:hover:text-secondary transition-colors">Home</a></li>
                <li><span class="mx-2 text-gray-400">/</span></li>
                <li class="text-gray-600 dark:text-gray-400 font-medium">Search</li>
            </ol>
        </nav>

        <!-- Hero Search Section -->
        <section class="bg-gradient-hero rounded-3xl p-8 md:p-16 mb-8 text-white shadow-lg">
            <div class="max-w-3xl mx-auto text-center">
                <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-6">Find the Perfect Developer Tool</h1>
                <p class="text-lg md:text-xl mb-8 opacity-90">Search 1000+ free developer tools, frameworks, and resources for your next project.</p>
                <div class="relative">
                    <input 
                        type="text" 
                        id="heroSearchInput" 
                        placeholder="Try searching for 'React', 'Git', or 'Docker'..."
                        class="w-full py-4 px-6 pl-14 pr-16 text-gray-800 rounded-full shadow-lg focus:outline-none focus:ring-4 focus:ring-white/30 transition-all text-lg"
                    >
                    <i class="fa fa-search absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-500 text-xl"></i>
                    <button 
                        id="searchButton" 
                        class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-secondary hover:bg-secondary/90 text-white py-2 px-6 rounded-full transition-all"
                    >
                        Search
                    </button>
                </div>
                <div id="searchSuggestions" class="hidden absolute mt-2 w-full max-w-3xl mx-auto left-1/2 transform -translate-x-1/2 bg-white dark:bg-dark-800 rounded-xl shadow-2xl z-30 overflow-hidden">
                    <ul id="suggestionsList" class="max-h-96 overflow-y-auto scrollbar-hide"></ul>
                </div>
            </div>
        </section>

        <!-- Search Results Section -->
        <section class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <!-- Left Sidebar - Categories and Filters -->
            <aside class="lg:col-span-1">
                <div class="bg-white dark:bg-dark-800 rounded-xl shadow-sm p-6 sticky top-24">
                    <h2 class="text-xl font-bold mb-4">Categories</h2>
                    <div class="space-y-2 mb-6">
                        <label class="flex items-center cursor-pointer">
                            <input type="radio" name="category" value="all" checked class="form-radio h-5 w-5 text-primary dark:text-secondary focus:ring-primary/50">
                            <span class="ml-2">All Categories</span>
                        </label>
                        <!-- Categories will be populated dynamically -->
                        <div id="categoriesList" class="space-y-2"></div>
                    </div>

                    <h2 class="text-xl font-bold mb-4">Sort By</h2>
                    <div class="space-y-2">
                        <label class="flex items-center cursor-pointer">
                            <input type="radio" name="sort" value="relevance" checked class="form-radio h-5 w-5 text-primary dark:text-secondary focus:ring-primary/50">
                            <span class="ml-2">Relevance</span>
                        </label>
                        <label class="flex items-center cursor-pointer">
                            <input type="radio" name="sort" value="name" class="form-radio h-5 w-5 text-primary dark:text-secondary focus:ring-primary/50">
                            <span class="ml-2">Name (A-Z)</span>
                        </label>
                        <label class="flex items-center cursor-pointer">
                            <input type="radio" name="sort" value="name-desc" class="form-radio h-5 w-5 text-primary dark:text-secondary focus:ring-primary/50">
                            <span class="ml-2">Name (Z-A)</span>
                        </label>
                        <label class="flex items-center cursor-pointer">
                            <input type="radio" name="sort" value="popularity" class="form-radio h-5 w-5 text-primary dark:text-secondary focus:ring-primary/50">
                            <span class="ml-2">Popularity (High-Low)</span>
                        </label>
                        <label class="flex items-center cursor-pointer">
                            <input type="radio" name="sort" value="popularity-desc" class="form-radio h-5 w-5 text-primary dark:text-secondary focus:ring-primary/50">
                            <span class="ml-2">Popularity (Low-High)</span>
                        </label>
                    </div>
                </div>
            </aside>

            <!-- Right Content - Search Results -->
            <div class="lg:col-span-3">
                <!-- Results Header -->
                <div class="bg-white dark:bg-dark-800 rounded-xl shadow-sm p-6 mb-6">
                    <div class="flex flex-col md:flex-row md:items-center justify-between">
                        <h2 class="text-2xl font-bold mb-2 md:mb-0">Search Results</h2>
                        <div class="text-gray-500 dark:text-gray-400">
                            <span id="resultsCount">0</span> tools found
                        </div>
                    </div>
                    <div class="mt-2 h-px bg-gray-200 dark:bg-dark-700"></div>
                    <div id="searchQueryDisplay" class="mt-3 hidden">
                        <span class="text-sm text-gray-500 dark:text-gray-400">Searching for:</span> 
                        <span id="queryText" class="font-medium"></span>
                        <button id="clearSearch" class="ml-2 text-primary dark:text-secondary hover:underline text-sm">
                            Clear
                        </button>
                    </div>
                </div>

                <!-- Results Content -->
                <div id="searchResults" class="space-y-4">
                    <!-- Empty State -->
                    <div id="emptyState" class="bg-white dark:bg-dark-800 rounded-xl shadow-sm p-10 text-center hidden">
                        <i class="fa fa-search text-5xl text-gray-300 dark:text-dark-600 mb-4"></i>
                        <h3 class="text-xl font-bold mb-2">No Results Found</h3>
                        <p class="text-gray-500 dark:text-gray-400 mb-6">Try adjusting your search or filters to find what you're looking for.</p>
                        <button id="resetSearch" class="bg-primary hover:bg-primary/90 text-white py-2 px-6 rounded-full transition-all">
                            Reset Search
                        </button>
                    </div>

                    <!-- Loading State -->
                    <div id="loadingState" class="space-y-4 hidden">
                        <div class="bg-white dark:bg-dark-800 rounded-xl shadow-sm p-6">
                            <div class="flex items-center space-x-4">
                                <div class="w-12 h-12 rounded-full skeleton-loading"></div>
                                <div class="flex-1">
                                    <div class="h-6 w-1/3 mb-3 skeleton-loading"></div>
                                    <div class="h-4 w-2/3 skeleton-loading"></div>
                                </div>
                            </div>
                            <div class="mt-4 flex flex-wrap gap-2">
                                <div class="h-6 w-20 rounded-full skeleton-loading"></div>
                                <div class="h-6 w-28 rounded-full skeleton-loading"></div>
                            </div>
                        </div>
                        <!-- More loading skeletons -->
                        <div class="bg-white dark:bg-dark-800 rounded-xl shadow-sm p-6">
                            <div class="flex items-center space-x-4">
                                <div class="w-12 h-12 rounded-full skeleton-loading"></div>
                                <div class="flex-1">
                                    <div class="h-6 w-1/3 mb-3 skeleton-loading"></div>
                                    <div class="h-4 w-2/3 skeleton-loading"></div>
                                </div>
                            </div>
                            <div class="mt-4 flex flex-wrap gap-2">
                                <div class="h-6 w-20 rounded-full skeleton-loading"></div>
                                <div class="h-6 w-28 rounded-full skeleton-loading"></div>
                            </div>
                        </div>
                        <div class="bg-white dark:bg-dark-800 rounded-xl shadow-sm p-6">
                            <div class="flex items-center space-x-4">
                                <div class="w-12 h-12 rounded-full skeleton-loading"></div>
                                <div class="flex-1">
                                    <div class="h-6 w-1/3 mb-3 skeleton-loading"></div>
                                    <div class="h-4 w-2/3 skeleton-loading"></div>
                                </div>
                            </div>
                            <div class="mt-4 flex flex-wrap gap-2">
                                <div class="h-6 w-20 rounded-full skeleton-loading"></div>
                                <div class="h-6 w-28 rounded-full skeleton-loading"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Results List -->
                    <div id="resultsList" class="space-y-4">
                        <!-- Results will be populated dynamically -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-100 dark:bg-dark-800 py-12 mt-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <i class="fa fa-code text-2xl text-primary"></i>
                        <span class="text-xl font-bold text-primary">FreeDevTools</span>
                    </div>
                    <p class="text-gray-600 dark:text-gray-400 mb-4">
                        Discover 1000+ free developer tools, frameworks, and resources for your next project.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-500 hover:text-primary dark:hover:text-secondary transition-colors">
                            <i class="fa fa-github text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-primary dark:hover:text-secondary transition-colors">
                            <i class="fa fa-twitter text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-500 hover:text-primary dark:hover:text-secondary transition-colors">
                            <i class="fa fa-linkedin text-xl"></i>
                        </a>
                    </div>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-4">Categories</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-secondary transition-colors">Frontend</a></li>
                        <li><a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-secondary transition-colors">Backend</a></li>
                        <li><a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-secondary transition-colors">DevOps</a></li>
                        <li><a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-secondary transition-colors">AI Tools</a></li>
                        <li><a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-secondary transition-colors">Design</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-4">Resources</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-secondary transition-colors">Documentation</a></li>
                        <li><a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-secondary transition-colors">Blog</a></li>
                        <li><a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-secondary transition-colors">Tutorials</a></li>
                        <li><a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-secondary transition-colors">API</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-4">Subscribe</h3>
                    <p class="text-gray-600 dark:text-gray-400 mb-4">
                        Stay updated with the latest tools and resources.
                    </p>
                    <div class="flex">
                        <input 
                            type="email" 
                            id="subscribeEmail" 
                            placeholder="Your email address" 
                            class="flex-1 py-2 px-4 rounded-l-lg border border-gray-300 dark:border-dark-700 bg-white dark:bg-dark-700 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all text-gray-800 dark:text-dark-50"
                        >
                        <button 
                            id="subscribeBtn" 
                            class="bg-primary hover:bg-primary/90 text-white py-2 px-6 rounded-r-lg transition-all"
                        >
                            Subscribe
                        </button>
                    </div>
                </div>
            </div>
            <div class="mt-8 pt-8 border-t border-gray-200 dark:border-dark-700">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <p class="text-gray-600 dark:text-gray-400 text-sm mb-4 md:mb-0">
                        &copy; 2023 FreeDevTools. All rights reserved.
                    </p>
                    <div class="flex space-x-6">
                        <a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-secondary text-sm transition-colors">Privacy Policy</a>
                        <a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-secondary text-sm transition-colors">Terms of Service</a>
                        <a href="#" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-secondary text-sm transition-colors">Contact</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button 
        id="backToTop" 
        class="fixed bottom-8 right-8 bg-primary hover:bg-primary/90 text-white p-3 rounded-full shadow-lg transform translate-y-20 opacity-0 transition-all duration-300 z-40"
    >
        <i class="fa fa-arrow-up"></i>
    </button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const heroSearchInput = document.getElementById('heroSearchInput');
            const searchButton = document.getElementById('searchButton');
            const searchInput = document.getElementById('searchInput');
            const searchSuggestions = document.getElementById('searchSuggestions');
            const suggestionsList = document.getElementById('suggestionsList');
            const resultsList = document.getElementById('resultsList');
            const resultsCount = document.getElementById('resultsCount');
            const searchQueryDisplay = document.getElementById('searchQueryDisplay');
            const queryText = document.getElementById('queryText');
            const clearSearch = document.getElementById('clearSearch');
            const emptyState = document.getElementById('emptyState');
            const loadingState = document.getElementById('loadingState');
            const resetSearch = document.getElementById('resetSearch');
            const categoriesList = document.getElementById('categoriesList');
            const themeToggle = document.getElementById('themeToggle');
            const scrollProgress = document.getElementById('scrollProgress');
            const backToTop = document.getElementById('backToTop');
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            const subscribeBtn = document.getElementById('subscribeBtn');
            const subscribeEmail = document.getElementById('subscribeEmail');

            // State variables
            let allTools = [];
            let searchQuery = '';
            let selectedCategory = 'all';
            let sortOption = 'relevance';
            let selectedResultIndex = -1;
            let suggestions = [];

            // Initialize page
            init();

            // Initialize function
            function init() {
                // Load data
                loadToolsData();

                // Initialize theme
                initTheme();

                // Initialize event listeners
                initEventListeners();

                // Parse URL parameters
                parseURLParameters();
            }

            // Load tools data
            async function loadToolsData() {
                try {
                    const response = await fetch('/assets/data/data.json');
                    allTools = await response.json();
                    
                    // Extract unique categories for filter
                    const categories = [...new Set(allTools.map(tool => tool.category))].sort();
                    renderCategories(categories);
                    
                    // If there's a search query from URL, perform search
                    if (searchQuery) {
                        performSearch();
                    }
                } catch (error) {
                    console.error('Error loading tools data:', error);
                }
            }

            // Render categories for filter
            function renderCategories(categories) {
                categoriesList.innerHTML = '';
                categories.forEach(category => {
                    const label = document.createElement('label');
                    label.className = 'flex items-center cursor-pointer';
                    label.innerHTML = `
                        <input type="radio" name="category" value="${category}" class="form-radio h-5 w-5 text-primary dark:text-secondary focus:ring-primary/50">
                        <span class="ml-2">${category}</span>
                    `;
                    categoriesList.appendChild(label);
                });

                // Add event listeners to category filters
                document.querySelectorAll('input[name="category"]').forEach(radio => {
                    radio.addEventListener('change', function() {
                        selectedCategory = this.value;
                        performSearch();
                    });
                });
            }

            // Initialize theme
            function initTheme() {
                // Check for saved theme preference or use system preference
                if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            }

            // Initialize event listeners
            function initEventListeners() {
                // Theme toggle
                themeToggle.addEventListener('click', toggleTheme);

                // Search functionality
                heroSearchInput.addEventListener('input', handleSearchInput);
                heroSearchInput.addEventListener('keydown', handleSearchKeyDown);
                searchInput.addEventListener('input', function() {
                    heroSearchInput.value = this.value;
                    handleSearchInput.call(heroSearchInput);
                });
                searchButton.addEventListener('click', performSearch);
                clearSearch.addEventListener('click', clearSearchQuery);
                resetSearch.addEventListener('click', clearSearchQuery);

                // Sorting
                document.querySelectorAll('input[name="sort"]').forEach(radio => {
                    radio.addEventListener('change', function() {
                        sortOption = this.value;
                        performSearch();
                    });
                });

                // Mobile menu
                mobileMenuBtn.addEventListener('click', toggleMobileMenu);

                // Scroll progress and back to top
                window.addEventListener('scroll', handleScroll);

                // Newsletter subscription
                subscribeBtn.addEventListener('click', handleSubscribe);
                subscribeEmail.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        handleSubscribe();
                    }
                });

                // Click outside suggestions to close
                document.addEventListener('click', function(e) {
                    if (!heroSearchInput.contains(e.target) && !searchSuggestions.contains(e.target)) {
                        searchSuggestions.classList.add('hidden');
                    }
                });
            }

            // Handle search input
            function handleSearchInput() {
                searchQuery = this.value.trim();
                
                if (searchQuery.length >= 1) {
                    // Show real-time suggestions
                    showSuggestions(searchQuery);
                } else {
                    // Hide suggestions when input is cleared
                    searchSuggestions.classList.add('hidden');
                    clearResults();
                }
            }

            // Handle search key down
            function handleSearchKeyDown(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    if (selectedResultIndex >= 0 && suggestions.length > 0) {
                        // Open the selected suggestion
                        openTool(suggestions[selectedResultIndex]);
                    } else {
                        // Perform search
                        performSearch();
                    }
                } else if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    navigateSuggestions(1);
                } else if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    navigateSuggestions(-1);
                } else if (e.key === 'Escape') {
                    e.preventDefault();
                    searchSuggestions.classList.add('hidden');
                    selectedResultIndex = -1;
                }
            }

            // Navigate through suggestions
            function navigateSuggestions(direction) {
                if (suggestions.length === 0) return;
                
                // Update selected index
                selectedResultIndex += direction;
                
                // Wrap around if necessary
                if (selectedResultIndex < 0) {
                    selectedResultIndex = suggestions.length - 1;
                } else if (selectedResultIndex >= suggestions.length) {
                    selectedResultIndex = 0;
                }
                
                // Update UI
                updateSuggestionsUI();
                
                // Scroll to selected item
                const selectedItem = suggestionsList.children[selectedResultIndex];
                if (selectedItem) {
                    selectedItem.scrollIntoView({ block: 'nearest' });
                }
            }

            // Show suggestions
            function showSuggestions(query) {
                // Filter tools based on query
                suggestions = filterTools(query);
                
                // Update URL with search query
                updateURLParameters();
                
                // Render suggestions
                suggestionsList.innerHTML = '';
                
                if (suggestions.length > 0) {
                    suggestions.slice(0, 5).forEach((tool, index) => {
                        const li = document.createElement('li');
                        li.className = `px-4 py-3 hover:bg-gray-100 dark:hover:bg-dark-700 cursor-pointer ${index === selectedResultIndex ? 'bg-gray-100 dark:bg-dark-700' : ''}`;
                        li.innerHTML = `
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full bg-gray-200 dark:bg-dark-700 flex items-center justify-center mr-3">
                                    <i class="fa fa-cube text-primary"></i>
                                </div>
                                <div>
                                    <p class="font-medium">${highlightText(tool.name, query)}</p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">${tool.category}</p>
                                </div>
                            </div>
                        `;
                        li.addEventListener('click', () => openTool(tool));
                        li.addEventListener('mouseenter', () => {
                            selectedResultIndex = index;
                            updateSuggestionsUI();
                        });
                        suggestionsList.appendChild(li);
                    });
                    
                    searchSuggestions.classList.remove('hidden');
                } else {
                    searchSuggestions.classList.add('hidden');
                }
            }

            // Update suggestions UI
            function updateSuggestionsUI() {
                Array.from(suggestionsList.children).forEach((child, index) => {
                    if (index === selectedResultIndex) {
                        child.classList.add('bg-gray-100', 'dark:bg-dark-700');
                    } else {
                        child.classList.remove('bg-gray-100', 'dark:bg-dark-700');
                    }
                });
            }

            // Perform search
            function performSearch() {
                searchQuery = heroSearchInput.value.trim();
                
                if (!searchQuery) {
                    clearResults();
                    return;
                }
                
                // Show loading state
                showLoadingState();
                
                // Update URL parameters
                updateURLParameters();
                
                // Simulate API call delay
                setTimeout(() => {
                    // Filter tools based on query and category
                    let results = filterTools(searchQuery);
                    
                    // Filter by category
                    if (selectedCategory !== 'all') {
                        results = results.filter(tool => tool.category === selectedCategory);
                    }
                    
                    // Sort results
                    results = sortResults(results);
                    
                    // Hide loading state
                    hideLoadingState();
                    
                    // Update UI
                    updateSearchResults(results);
                    
                    // Hide suggestions
                    searchSuggestions.classList.add('hidden');
                }, 500);
            }

            // Filter tools based on query
            function filterTools(query) {
                const lowerQuery = query.toLowerCase();
                
                return allTools.filter(tool => {
                    // Check name for exact match, prefix match, or contains match
                    const nameMatch = tool.name.toLowerCase();
                    const exactMatch = nameMatch === lowerQuery;
                    const prefixMatch = nameMatch.startsWith(lowerQuery);
                    const containsMatch = nameMatch.includes(lowerQuery);
                    
                    // Check tags and category
                    const tagMatch = tool.tags.some(tag => tag.toLowerCase().includes(lowerQuery));
                    const categoryMatch = tool.category.toLowerCase().includes(lowerQuery);
                    
                    // Calculate relevance score
                    let score = 0;
                    if (exactMatch) score = 100;
                    else if (prefixMatch) score = 50;
                    else if (containsMatch) score = 30;
                    else if (tagMatch) score = 20;
                    else if (categoryMatch) score = 10;
                    
                    // Return tools with positive score and sort by relevance
                    return score > 0;
                }).sort((a, b) => {
                    const aScore = getRelevanceScore(a, lowerQuery);
                    const bScore = getRelevanceScore(b, lowerQuery);
                    return bScore - aScore;
                });
            }

            // Get relevance score for a tool
            function getRelevanceScore(tool, query) {
                const nameMatch = tool.name.toLowerCase();
                const exactMatch = nameMatch === query;
                const prefixMatch = nameMatch.startsWith(query);
                const containsMatch = nameMatch.includes(query);
                const tagMatch = tool.tags.some(tag => tag.toLowerCase().includes(query));
                const categoryMatch = tool.category.toLowerCase().includes(query);
                
                let score = 0;
                if (exactMatch) score = 100;
                else if (prefixMatch) score = 50;
                else if (containsMatch) score = 30;
                else if (tagMatch) score = 20;
                else if (categoryMatch) score = 10;
                
                // Add popularity to score
                score += tool.popularity * 5;
                
                return score;
            }

            // Sort results
            function sortResults(results) {
                switch (sortOption) {
                    case 'name':
                        return [...results].sort((a, b) => a.name.localeCompare(b.name));
                    case 'name-desc':
                        return [...results].sort((a, b) => b.name.localeCompare(a.name));
                    case 'popularity':
                        return [...results].sort((a, b) => b.popularity - a.popularity);
                    case 'popularity-desc':
                        return [...results].sort((a, b) => a.popularity - b.popularity);
                    case 'relevance':
                    default:
                        // Relevance is already handled in filterTools
                        return results;
                }
            }

            // Update search results UI
            function updateSearchResults(results) {
                // Clear previous results
                resultsList.innerHTML = '';
                
                // Update results count
                resultsCount.textContent = results.length;
                
                // Show/hide empty state
                if (results.length === 0) {
                    emptyState.classList.remove('hidden');
                    resultsList.classList.add('hidden');
                } else {
                    emptyState.classList.add('hidden');
                    resultsList.classList.remove('hidden');
                    
                    // Render results
                    results.forEach((tool, index) => {
                        const resultItem = document.createElement('div');
                        resultItem.className = `bg-white dark:bg-dark-800 rounded-xl shadow-sm p-6 transition-all hover:shadow-md ${index === 0 ? 'border-l-4 border-primary' : ''}`;
                        resultItem.innerHTML = `
                            <div class="flex flex-col md:flex-row md:items-start justify-between">
                                <div class="flex items-center mb-4 md:mb-0">
                                    <div class="w-12 h-12 rounded-full bg-gray-100 dark:bg-dark-700 flex items-center justify-center mr-4">
                                        <img src="https://picsum.photos/48/48?random=${tool.file}" alt="${tool.name} logo" class="w-8 h-8 object-contain">
                                    </div>
                                    <div>
                                        <h3 class="text-xl font-bold mb-1">${highlightText(tool.name, searchQuery)}</h3>
                                        <p class="text-gray-500 dark:text-gray-400">${tool.category}</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <span class="text-sm text-gray-500 dark:text-gray-400">Popularity:</span>
                                    <div class="flex">
                                        ${Array.from({ length: 5 }).map((_, i) => `
                                            <i class="fa fa-star ${i < Math.round(tool.popularity * 5) ? 'text-accent' : 'text-gray-300 dark:text-dark-600'}"></i>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 flex flex-wrap gap-2">
                                ${tool.tags.map(tag => `
                                    <span class="px-3 py-1 bg-gray-100 dark:bg-dark-700 rounded-full text-sm">${highlightText(tag, searchQuery)}</span>
                                `).join('')}
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-200 dark:border-dark-700 flex justify-end">
                                <button class="text-primary dark:text-secondary hover:underline text-sm flex items-center">
                                    View Details <i class="fa fa-arrow-right ml-1"></i>
                                </button>
                            </div>
                        `;
                        
                        // Add click event to open tool
                        resultItem.addEventListener('click', () => openTool(tool));
                        
                        resultsList.appendChild(resultItem);
                    });
                }
                
                // Show search query display
                searchQueryDisplay.classList.remove('hidden');
                queryText.textContent = searchQuery;
                
                // Set focus on first result
                if (results.length > 0) {
                    resultsList.children[0].focus();
                }
            }

            // Highlight text in results
            function highlightText(text, query) {
                if (!query) return text;
                
                const regex = new RegExp(`(${query})`, 'gi');
                return text.replace(regex, '<span class="search-result-highlight">$1</span>');
            }

            // Open tool page
            function openTool(tool) {
                // In a real implementation, this would navigate to the tool's page
                console.log('Opening tool:', tool.name);
                alert(`Opening tool: ${tool.name}`);
            }

            // Clear search query
            function clearSearchQuery() {
                heroSearchInput.value = '';
                searchInput.value = '';
                searchQuery = '';
                selectedCategory = 'all';
                sortOption = 'relevance';
                
                // Reset form elements
                document.querySelector('input[name="category"][value="all"]').checked = true;
                document.querySelector('input[name="sort"][value="relevance"]').checked = true;
                
                // Clear UI
                clearResults();
                
                // Update URL
                updateURLParameters();
            }

            // Clear results
            function clearResults() {
                resultsList.innerHTML = '';
                resultsCount.textContent = '0';
                searchQueryDisplay.classList.add('hidden');
                emptyState.classList.add('hidden');
                resultsList.classList.add('hidden');
                searchSuggestions.classList.add('hidden');
            }

            // Show loading state
            function showLoadingState() {
                loadingState.classList.remove('hidden');
                resultsList.classList.add('hidden');
                emptyState.classList.add('hidden');
            }

            // Hide loading state
            function hideLoadingState() {
                loadingState.classList.add('hidden');
            }

            // Toggle theme
            function toggleTheme() {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                    localStorage.theme = 'light';
                } else {
                    document.documentElement.classList.add('dark');
                    localStorage.theme = 'dark';
                }
            }

            // Handle scroll events
            function handleScroll() {
                // Update scroll progress indicator
                const scrollPosition = window.scrollY;
                const windowHeight = window.innerHeight;
                const documentHeight = document.documentElement.scrollHeight;
                const scrollPercentage = (scrollPosition / (documentHeight - windowHeight)) * 100;
                
                scrollProgress.style.transform = `scaleX(${scrollPercentage / 100})`;
                
                // Show/hide back to top button
                if (scrollPosition > 300) {
                    backToTop.classList.remove('translate-y-20', 'opacity-0');
                } else {
                    backToTop.classList.add('translate-y-20', 'opacity-0');
                }
            }

            // Toggle mobile menu
            function toggleMobileMenu() {
                mobileMenu.classList.toggle('hidden');
            }

            // Handle newsletter subscription
            function handleSubscribe() {
                if (subscribeEmail && subscribeEmail.value) {
                    // In a real implementation, you would send the email to your server
                    console.log('Subscribing email:', subscribeEmail.value);
                    // Show a success message
                    const successMessage = document.createElement('p');
                    successMessage.className = 'text-green-600 dark:text-green-400 text-sm mt-3';
                    successMessage.textContent = 'Thank you for subscribing!';
                    subscribeBtn.parentElement.appendChild(successMessage);
                    subscribeEmail.value = '';
                    // Remove message after 3 seconds
                    setTimeout(function() {
                        successMessage.remove();
                    }, 3000);
                }
            }

            // Parse URL parameters
            function parseURLParameters() {
                const urlParams = new URLSearchParams(window.location.search);
                
                // Get search query
                const q = urlParams.get('q');
                if (q) {
                    searchQuery = q;
                    heroSearchInput.value = q;
                    searchInput.value = q;
                }
                
                // Get sort option
                const sort = urlParams.get('sort');
                const order = urlParams.get('order');
                if (sort) {
                    if (order && ['asc', 'desc'].includes(order)) {
                        sortOption = `${sort}-${order}`;
                    } else {
                        sortOption = sort;
                    }
                    
                    // Update radio button
                    const radio = document.querySelector(`input[name="sort"][value="${sortOption}"]`);
                    if (radio) {
                        radio.checked = true;
                    }
                }
                
                // Get category
                const category = urlParams.get('category');
                if (category) {
                    selectedCategory = category;
                    
                    // Update radio button
                    const radio = document.querySelector(`input[name="category"][value="${category}"]`);
                    if (radio) {
                        radio.checked = true;
                    }
                }
            }

            // Update URL parameters
            function updateURLParameters() {
                const urlParams = new URLSearchParams();
                
                if (searchQuery) {
                    urlParams.set('q', searchQuery);
                }
                
                if (sortOption !== 'relevance') {
                    urlParams.set('sort', sortOption);
                }
                
                if (selectedCategory !== 'all') {
                    urlParams.set('category', selectedCategory);
                }
                
                // Update URL without reloading
                const newUrl = `${window.location.pathname}${urlParams.toString() ? '?' + urlParams.toString() : ''}`;
                window.history.replaceState({}, '', newUrl);
            }
        });
    </script>

    <!-- Main JS Module -->
    <script type="module" src="/main.js"></script>
</body>
</html>