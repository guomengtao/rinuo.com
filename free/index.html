<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>免费资源导航 | 夜间模式</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: '#121212',
                        darker: '#0a0a0a',
                        primary: '#6366f1',
                        secondary: '#8b5cf6',
                        accent: '#ec4899',
                        light: '#e5e7eb'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .card-hover {
                @apply transition-all duration-300 hover:shadow-lg hover:shadow-primary/20 hover:-translate-y-1;
            }
            .category-grid {
                @apply grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4;
            }
        }
    </style>
</head>
<body class="bg-dark text-light min-h-screen flex flex-col">
    <!-- 导航栏 -->
    <header class="sticky top-0 z-50 bg-darker/80 backdrop-blur-md border-b border-gray-800">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-gift text-primary text-2xl"></i>
                <h1 class="text-xl font-bold bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text">免费资源导航</h1>
            </div>
            
            <div class="flex items-center space-x-4">
                <div class="relative hidden md:block">
                    <input type="text" id="search-input" placeholder="搜索资源..." 
                           class="bg-gray-800/50 text-sm rounded-full px-4 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-primary/50 w-48 lg:w-64 transition-all">
                    <i class="fa fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"></i>
                </div>
                
                <button id="mobile-search-btn" class="md:hidden text-gray-400 hover:text-light">
                    <i class="fa fa-search text-lg"></i>
                </button>
                
                <button id="theme-toggle" class="text-gray-400 hover:text-light">
                    <i class="fa fa-moon-o text-lg"></i>
                </button>
            </div>
        </div>
        
        <!-- 移动端搜索框 -->
        <div id="mobile-search-container" class="hidden md:hidden px-4 pb-3">
            <input type="text" placeholder="搜索资源..." 
                   class="bg-gray-800/50 text-sm rounded-full px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-primary/50">
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="flex-grow container mx-auto px-4 py-8">
        <!-- 页面介绍 -->
        <section class="mb-12 text-center">
            <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4 text-shadow">精选免费资源集合</h2>
            <p class="text-gray-400 max-w-3xl mx-auto">
                这里收集了各类免费资源，包括AI工具、开发资源、设计素材、学习教育等，
                所有资源均经过整理，方便您快速找到并使用。
            </p>
        </section>
        
        <!-- 资源分类标签 -->
        <section class="mb-8 overflow-x-auto pb-2">
            <div class="flex space-x-2 min-w-max">
                <button class="bg-primary/20 hover:bg-primary/30 text-primary px-4 py-2 rounded-full text-sm font-medium transition-all">
                    全部资源
                </button>
                <button class="bg-gray-800/50 hover:bg-gray-800 px-4 py-2 rounded-full text-sm font-medium transition-all">
                    开发工具
                </button>
                <button class="bg-gray-800/50 hover:bg-gray-800 px-4 py-2 rounded-full text-sm font-medium transition-all">
                    AI资源
                </button>
                <button class="bg-gray-800/50 hover:bg-gray-800 px-4 py-2 rounded-full text-sm font-medium transition-all">
                    设计素材
                </button>
                <button class="bg-gray-800/50 hover:bg-gray-800 px-4 py-2 rounded-full text-sm font-medium transition-all">
                    学习教育
                </button>
                <button class="bg-gray-800/50 hover:bg-gray-800 px-4 py-2 rounded-full text-sm font-medium transition-all">
                    网络服务
                </button>
            </div>
        </section>
        
        <!-- 主要资源分类 -->
        <section class="mb-16">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold flex items-center">
                    <i class="fa fa-th-large text-primary mr-2"></i>资源分类
                </h3>
                <span class="text-sm text-gray-500 bg-gray-800/50 px-3 py-1 rounded-full">
                    共 <span id="category-count">0</span> 个分类
                </span>
            </div>
            
            <div id="category-grid" class="category-grid">
                <!-- 资源分类卡片将在这里显示 -->
                <div class="col-span-full py-16 text-center" id="category-loading">
                    <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"></div>
                    <p class="text-gray-500">加载资源分类中...</p>
                </div>
            </div>
        </section>
        
        <!-- 详细资源 -->
        <section>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold flex items-center">
                    <i class="fa fa-list-alt text-secondary mr-2"></i>详细资源介绍
                </h3>
                <span class="text-sm text-gray-500 bg-gray-800/50 px-3 py-1 rounded-full">
                    共 <span id="detail-count">0</span> 个资源
                </span>
            </div>
            
            <div id="detail-grid" class="category-grid">
                <!-- 详细资源卡片将在这里显示 -->
                <div class="col-span-full py-16 text-center" id="detail-loading">
                    <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-secondary mb-4"></div>
                    <p class="text-gray-500">加载详细资源中...</p>
                </div>
            </div>
        </section>
    </main>

    <!-- 邮件订阅 -->
    <section class="mb-16">
      <div class="bg-gradient-to-r from-primary/20 to-secondary/20 rounded-xl p-8 border border-gray-800">
        <h3 class="text-xl font-bold mb-4">订阅技术资源更新</h3>
        <p class="text-gray-300 mb-6">获取最新免费资源和技术动态</p>
        <div class="flex flex-col sm:flex-row gap-3 max-w-lg">
          <input 
            type="email" 
            id="subscribeEmail"
            placeholder="输入您的邮箱地址"
            class="flex-1 bg-darker/70 border border-gray-700 rounded-lg px-4 py-3 focus:outline-none focus:border-primary transition-colors"
          >
          <button 
            id="subscribeBtn"
            class="bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-lg font-medium transition-all shadow-lg shadow-primary/20 hover:shadow-primary/30 whitespace-nowrap"
          >
            立即订阅
          </button>
        </div>
      </div>
    </section>

    <!-- 页脚 -->
    <footer class="bg-darker border-t border-gray-800 py-8 mt-16">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0">
                    <div class="flex items-center space-x-2 mb-2">
                        <i class="fa fa-gift text-primary"></i>
                        <span class="font-bold text-lg">免费资源导航</span>
                    </div>
                    <p class="text-gray-500 text-sm">收集全网优质免费资源，方便大家使用</p>
                </div>
                
                <div class="flex space-x-6">
                    <a href="#" class="text-gray-400 hover:text-primary transition-colors">
                        <i class="fa fa-github text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-primary transition-colors">
                        <i class="fa fa-twitter text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-primary transition-colors">
                        <i class="fa fa-envelope text-xl"></i>
                    </a>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-6 pt-6 text-center text-gray-500 text-sm">
                <p>© 2023 免费资源导航 | 本站资源均为免费资源，仅供学习使用</p>
            </div>
        </div>
    </footer>

    <!-- 回到顶部按钮 -->
    <button id="back-to-top" class="fixed bottom-6 right-6 bg-primary/80 hover:bg-primary text-white rounded-full p-3 shadow-lg opacity-0 invisible transition-all duration-300">
        <i class="fa fa-arrow-up"></i>
    </button>

     
    
    <script>
        // 资源分类数据 - 来自 free/ 目录
        const categories = [
            "ai-image", "domain", "news", "ssl",
            "ai-inference", "education", "nft", "stock",
            "ai-text", "email", "ocr", "storage",
            "ai", "fonts", "otp", "tiktok-scrapers",
            "analytics", "health", "password-strength", "translate",
            "api-docs", "huggingface-models", "payment", "twitter",
            "api", "icons", "pentest", "video",
            "blockchain-explorers", "image", "proxy", "voice",
            "cdn", "instagram-scraping", "push", "vps",
            "chart", "law", "scraping-frameworks", "waf",
            "cicd", "log", "scraping", "weather",
            "database", "map", "serverless", "webrtc",
            "devtools", "markdown", "sms", "websocket",
            "docs", "monitor", "sound-effects", "sport"
        ];
        
        // 详细资源数据 - 来自 free/detail/ 目录
        const details = [
            "apache", "cursor", "firebase", "mongodb", "postman", "symfony",
            "bootstrap", "d3", "github", "mysql", "react", "tailwind",
            "canva", "dbeaver", "gmail", "nginx", "redis", "vercel",
            "chart", "deepseek", "jquery", "openai", "sqlite", "vue",
            "cloudflare", "docker", "laravel", "postgresql", "supabase", "wordpress",
            "coplilot", "doubao", "letsencrypt", "swagger"
        ];
        
        // DOM 元素
        const categoryGrid = document.getElementById('category-grid');
        const detailGrid = document.getElementById('detail-grid');
        const categoryLoading = document.getElementById('category-loading');
        const detailLoading = document.getElementById('detail-loading');
        const backToTopBtn = document.getElementById('back-to-top');
        const mobileSearchBtn = document.getElementById('mobile-search-btn');
        const mobileSearchContainer = document.getElementById('mobile-search-container');
        const searchInput = document.getElementById('search-input');
        
        // 生成资源卡片
        function createResourceCard(name, isDetail = false) {
            // 格式化名称为友好显示文本
            const displayName = name
                .replace(/-/g, ' ')
                .split(' ')
                .map(word => word.charAt(0).toUpperCase() + word.slice(1))
                .join(' ');
                
            // 生成随机图标
            const icons = ['fa-rocket', 'fa-code', 'fa-paint-brush', 'fa-book', 'fa-cloud', 
                          'fa-database', 'fa-line-chart', 'fa-mobile', 'fa-server', 'fa-shield'];
            const randomIcon = icons[Math.floor(Math.random() * icons.length)];
            
            // 生成随机颜色
            const colors = ['primary', 'secondary', 'accent', 'green-500', 'blue-500', 'purple-500', 'pink-500'];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            
            // 创建卡片链接
            const link = document.createElement('a');
            const path = isDetail ? `/detail/${name}.html` : `/${name}.html`;
            link.href = path;
            link.className = 'block';
            
            // 创建卡片
            const card = document.createElement('div');
            card.className = `bg-gray-800/30 rounded-xl p-5 border border-gray-700/50 card-hover`;
            
            // 卡片内容
            card.innerHTML = `
                <div class="w-10 h-10 rounded-lg bg-${randomColor}/20 flex items-center justify-center mb-3">
                    <i class="fa ${randomIcon} text-${randomColor}"></i>
                </div>
                <h4 class="font-medium mb-1 line-clamp-1">${displayName}</h4>
                <p class="text-gray-500 text-xs mt-2">点击查看详情</p>
            `;
            
            link.appendChild(card);
            return link;
        }
        
        // 渲染所有资源卡片
        function renderResourceCards() {
            // 清空网格加载状态
            categoryLoading.remove();
            detailLoading.remove();
            
            // 添加分类资源卡片
            categories.forEach((category, index) => {
                // 延迟添加以创建动画效果
                setTimeout(() => {
                    const card = createResourceCard(category);
                    categoryGrid.appendChild(card);
                }, index * 30);
            });
            
            // 添加详细资源卡片
            details.forEach((detail, index) => {
                // 延迟添加以创建动画效果
                setTimeout(() => {
                    const card = createResourceCard(detail, true);
                    detailGrid.appendChild(card);
                }, index * 30);
            });
            
            // 更新计数
            document.getElementById('category-count').textContent = categories.length;
            document.getElementById('detail-count').textContent = details.length;
        }
        
        // 搜索功能
        function setupSearch() {
            const searchInputs = [searchInput, mobileSearchContainer.querySelector('input')];
            
            searchInputs.forEach(input => {
                if (input) {
                    input.addEventListener('input', (e) => {
                        const searchTerm = e.target.value.toLowerCase().trim();
                        
                        // 过滤并显示分类资源
                        categoryGrid.innerHTML = '';
                        const filteredCategories = categories.filter(cat => 
                            cat.toLowerCase().includes(searchTerm)
                        );
                        
                        if (filteredCategories.length > 0) {
                            filteredCategories.forEach(category => {
                                const card = createResourceCard(category);
                                categoryGrid.appendChild(card);
                            });
                        } else {
                            categoryGrid.innerHTML = `
                                <div class="col-span-full py-12 text-center">
                                    <i class="fa fa-search text-gray-600 text-3xl mb-3"></i>
                                    <p class="text-gray-500">没有找到匹配的分类资源</p>
                                </div>
                            `;
                        }
                        
                        // 过滤并显示详细资源
                        detailGrid.innerHTML = '';
                        const filteredDetails = details.filter(detail => 
                            detail.toLowerCase().includes(searchTerm)
                        );
                        
                        if (filteredDetails.length > 0) {
                            filteredDetails.forEach(detail => {
                                const card = createResourceCard(detail, true);
                                detailGrid.appendChild(card);
                            });
                        } else {
                            detailGrid.innerHTML = `
                                <div class="col-span-full py-12 text-center">
                                    <i class="fa fa-search text-gray-600 text-3xl mb-3"></i>
                                    <p class="text-gray-500">没有找到匹配的详细资源</p>
                                </div>
                            `;
                        }
                    });
                }
            });
        }
        
        // 移动端搜索框切换
        function setupMobileSearch() {
            mobileSearchBtn.addEventListener('click', () => {
                mobileSearchContainer.classList.toggle('hidden');
                if (!mobileSearchContainer.classList.contains('hidden')) {
                    mobileSearchContainer.querySelector('input').focus();
                }
            });
        }
        
        // 回到顶部功能
        function setupBackToTop() {
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    backToTopBtn.classList.remove('opacity-0', 'invisible');
                    backToTopBtn.classList.add('opacity-100', 'visible');
                } else {
                    backToTopBtn.classList.remove('opacity-100', 'visible');
                    backToTopBtn.classList.add('opacity-0', 'invisible');
                }
            });
            
            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', () => {
            // 确保DOM完全加载后再渲染卡片
            setTimeout(() => {
                renderResourceCards();
            }, 300);
            
            setupSearch();
            setupMobileSearch();
            setupBackToTop();
            
            // 添加页面载入动画
            document.body.classList.add('opacity-0');
            setTimeout(() => {
                document.body.classList.remove('opacity-0');
                document.body.classList.add('transition-opacity', 'duration-500', 'opacity-100');
            }, 100);
        });
    </script>
<script type="module" src="/main.js"></script>
</body>
</html>
