<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database Solutions - Premium Tools & Platforms</title>
    <meta name="description" content="Discover the best database solutions including SQL, NoSQL, cloud databases, and data management tools. Curated collection for developers and data engineers.">
    <meta name="keywords" content="database, SQL, NoSQL, PostgreSQL, MySQL, MongoDB, cloud databases, data storage, data management">
    <meta name="author" content="Rinuo">
    <meta property="og:title" content="Database Solutions - Premium Tools & Platforms">
    <meta property="og:description" content="Discover the best database solutions including SQL, NoSQL, cloud databases, and data management tools.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://127.0.0.1:5500/free/database.html">
    <link rel="canonical" href="http://127.0.0.1:5500/free/database.html">
    <link rel="sitemap" type="application/xml" href="/sitemap">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.6s ease-out',
                        'bounce-gentle': 'bounceGentle 2s infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(30px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        bounceGentle: {
                            '0%, 20%, 50%, 80%, 100%': { transform: 'translateY(0)' },
                            '40%': { transform: 'translateY(-10px)' },
                            '60%': { transform: 'translateY(-5px)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        .dark ::-webkit-scrollbar-track {
            background: #374151;
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #6b7280;
        }
        
        /* Smooth transitions */
        * {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        
        /* Hero gradient animation */
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .gradient-bg {
            background: linear-gradient(-45deg, #00C9FF, #92FE9D, #01C5C4, #0093E9);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }
        
        /* Card hover effects */
        .resource-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .resource-card:hover {
            transform: translateY(-8px);
        }
        
        /* Lazy loading placeholder */
        .lazy-placeholder {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100">
    <!-- Scroll Progress Indicator -->
    <div id="scrollProgress" class="fixed top-0 left-0 h-1 bg-gradient-to-r from-green-500 to-blue-600 z-50 transition-all duration-300" style="width: 0%"></div>
    
    <!-- Navigation -->
    <nav class="fixed top-0 w-full bg-white/95 dark:bg-gray-800/95 backdrop-blur-md shadow-lg z-40 border-b border-gray-200 dark:border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="/" class="text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent">
                        RINUO
                    </a>
                </div>
                
                <!-- Search Bar -->
                <div class="flex-1 max-w-lg mx-8">
                    <div class="relative">
                        <input 
                            type="text" 
                            id="searchInput"
                            placeholder="Search database resources..."
                            autocomplete="off"
                            class="w-full px-4 py-2 pl-10 pr-4 text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-full focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800"
                        >
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>
                
                <!-- Dark Mode Toggle -->
                <div class="flex items-center space-x-4">
                    <button id="darkModeToggle" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <i class="fas fa-sun text-yellow-500 dark:hidden"></i>
                        <i class="fas fa-moon text-blue-400 hidden dark:inline"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Breadcrumb -->
    <div class="pt-20 pb-4 bg-gray-100 dark:bg-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <nav class="flex" aria-label="Breadcrumb">
                <ol class="inline-flex items-center space-x-1 md:space-x-3">
                    <li class="inline-flex items-center">
                        <a href="/" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">
                            <i class="fas fa-home mr-2"></i>Home
                        </a>
                    </li>
                    <li>
                        <div class="flex items-center">
                            <i class="fas fa-chevron-right text-gray-400 mx-2"></i>
                            <a href="/free" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Resources</a>
                        </div>
                    </li>
                    <li>
                        <div class="flex items-center">
                            <i class="fas fa-chevron-right text-gray-400 mx-2"></i>
                            <a href="/free/detail/" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400">Categories</a>
                        </div>
                    </li>
                    <li aria-current="page">
                        <div class="flex items-center">
                            <i class="fas fa-chevron-right text-gray-400 mx-2"></i>
                            <span class="text-gray-500 dark:text-gray-400">Database</span>
                        </div>
                    </li>
                </ol>
            </nav>
        </div>
    </div>
    
    <!-- Hero Section -->
    <section class="gradient-bg text-white py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-5xl md:text-7xl font-bold mb-6 animate-fade-in">
                Database Solutions
            </h1>
            <p class="text-xl md:text-2xl mb-8 opacity-90 animate-slide-up">
                Explore the most powerful database tools and platforms for modern applications
            </p>
            <div class="flex justify-center space-x-4 animate-bounce-gentle">
                <div class="bg-white/20 backdrop-blur-sm rounded-lg px-6 py-3">
                    <i class="fas fa-database text-2xl mb-2"></i>
                    <p class="text-sm">40+ Solutions</p>
                </div>
                <div class="bg-white/20 backdrop-blur-sm rounded-lg px-6 py-3">
                    <i class="fas fa-star text-2xl mb-2"></i>
                    <p class="text-sm">Top Rated</p>
                </div>
                <div class="bg-white/20 backdrop-blur-sm rounded-lg px-6 py-3">
                    <i class="fas fa-rocket text-2xl mb-2"></i>
                    <p class="text-sm">Performance</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <!-- Stats Section -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12">
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 text-center">
                <i class="fas fa-table text-3xl text-green-500 mb-4"></i>
                <h3 class="text-2xl font-bold mb-2">SQL</h3>
                <p class="text-gray-600 dark:text-gray-400">Relational databases</p>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 text-center">
                <i class="fas fa-project-diagram text-3xl text-blue-500 mb-4"></i>
                <h3 class="text-2xl font-bold mb-2">NoSQL</h3>
                <p class="text-gray-600 dark:text-gray-400">Document & graph databases</p>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 text-center">
                <i class="fas fa-cloud text-3xl text-purple-500 mb-4"></i>
                <h3 class="text-2xl font-bold mb-2">Cloud</h3>
                <p class="text-gray-600 dark:text-gray-400">Managed database services</p>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 text-center">
                <i class="fas fa-tools text-3xl text-orange-500 mb-4"></i>
                <h3 class="text-2xl font-bold mb-2">Tools</h3>
                <p class="text-gray-600 dark:text-gray-400">Management & query tools</p>
            </div>
        </div>
        
        <!-- View Switcher -->
        <div class="flex justify-center mb-8">
            <div class="inline-flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1">
                <button id="listViewBtn" class="px-4 py-2 rounded-md text-sm font-medium focus:outline-none" data-view="list">
                    <i class="fas fa-table mr-2"></i>Table View
                </button>
                <button id="cardViewNoImageBtn" class="px-4 py-2 rounded-md text-sm font-medium focus:outline-none" data-view="cardNoImage">
                    <i class="fas fa-th-large mr-2"></i>No Image Cards
                </button>
                <button id="cardViewWithImageBtn" class="px-4 py-2 rounded-md text-sm font-medium focus:outline-none" data-view="cardWithImage">
                    <i class="fas fa-th mr-2"></i>With Image Cards
                </button>
            </div>
        </div>
        
        <!-- Resources Containers -->
        <div id="listViewContainer" class="hidden overflow-x-auto">
            <!-- Table view will be dynamically loaded here -->
        </div>
        <div id="cardViewNoImageContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Card view without images will be dynamically loaded here -->
        </div>
        <div id="cardViewWithImageContainer" class="hidden">
            <!-- Card view with images will be dynamically loaded here -->
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12 mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- About -->
                <div>
                    <h3 class="text-2xl font-bold mb-4">RINUO</h3>
                    <p class="text-gray-400 mb-4">Your premium resource hub for modern web development tools and frameworks.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-github text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-twitter text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-linkedin text-xl"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="/" class="text-gray-400 hover:text-white transition-colors">Home</a></li>
                        <li><a href="/free" class="text-gray-400 hover:text-white transition-colors">Resources</a></li>
                        <li><a href="/sitemap" class="text-gray-400 hover:text-white transition-colors">Sitemap</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">About</a></li>
                    </ul>
                </div>
                
                <!-- Newsletter -->
                <div>
                    <h4 class="text-lg font-semibold mb-4">Stay Updated</h4>
                    <p class="text-gray-400 mb-4">Subscribe to get the latest database resources and updates.</p>
                    <div class="flex">
                        <input 
                            type="email" 
                            id="subscribeEmail"
                            placeholder="Enter your email"
                            class="flex-1 px-4 py-2 bg-gray-800 border border-gray-700 rounded-l-lg focus:outline-none focus:border-blue-500 text-white"
                        >
                        <button 
                            id="subscribeBtn"
                            class="px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-r-lg transition-colors"
                        >
                            Subscribe
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 RINUO. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <!-- Floating Action Buttons -->
    <div class="fixed bottom-8 right-8 space-y-4 z-30">
        <!-- Back to Top -->
        <button id="backToTop" class="w-12 h-12 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg transition-all duration-300 opacity-0 invisible">
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <!-- Bookmark -->
        <button id="bookmarkBtn" class="w-12 h-12 bg-yellow-500 hover:bg-yellow-600 text-white rounded-full shadow-lg transition-all duration-300">
            <i class="fas fa-star"></i>
        </button>
        
        <!-- Share -->
        <button id="shareBtn" class="w-12 h-12 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg transition-all duration-300">
            <i class="fas fa-share-alt"></i>
        </button>
    </div>
    
    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 从正确路径加载数据
            async function loadData() {
                try {
                    // 使用正确的绝对路径加载数据
                    const response = await fetch('/assets/data/data.json');
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    const data = await response.json();
                    return data;
                } catch (error) {
                    console.error('Error loading data:', error);
                    // 显示用户友好的错误消息
                    alert('Failed to load resources. Please try again later.');
                    // 返回空数组作为错误情况下的默认值
                    return [];
                }
            }

            // 过滤Database分类的数据
            function filterDatabaseData(data) {
                // 确保数据是数组
                if (!Array.isArray(data)) return [];
                return data.filter(item => item && item.category === 'Database');
            }

            // 初始化排序字段和方向
            let sortField = 'name';
            let sortDirection = 'asc';

            // 当前视图模式
            let currentView = localStorage.getItem('preferredView') || 'cardNoImage';
            
            // 获取所有视图容器
            const listViewContainer = document.getElementById('listViewContainer');
            const cardViewNoImageContainer = document.getElementById('cardViewNoImageContainer');
            const cardViewWithImageContainer = document.getElementById('cardViewWithImageContainer');
            const viewButtons = {
                list: document.getElementById('listViewBtn'),
                cardNoImage: document.getElementById('cardViewNoImageBtn'),
                cardWithImage: document.getElementById('cardViewWithImageBtn')
            };

            // 更新视图按钮状态
            function updateViewButtons() {
                Object.entries(viewButtons).forEach(([view, button]) => {
                    if (view === currentView) {
                        button.classList.add('bg-white', 'dark:bg-gray-700', 'text-blue-600', 'dark:text-blue-400', 'shadow');
                        button.classList.remove('text-gray-700', 'dark:text-gray-300');
                    } else {
                        button.classList.remove('bg-white', 'dark:bg-gray-700', 'text-blue-600', 'dark:text-blue-400', 'shadow');
                        button.classList.add('text-gray-700', 'dark:text-gray-300');
                    }
                });
            }

            // 切换视图
            function switchView(view) {
                currentView = view;
                localStorage.setItem('preferredView', view);
                
                // 隐藏所有容器
                listViewContainer.classList.add('hidden');
                cardViewNoImageContainer.classList.add('hidden');
                cardViewWithImageContainer.classList.add('hidden');
                
                // 显示当前视图容器
                if (view === 'list') {
                    listViewContainer.classList.remove('hidden');
                } else if (view === 'cardNoImage') {
                    cardViewNoImageContainer.classList.remove('hidden');
                } else if (view === 'cardWithImage') {
                    cardViewWithImageContainer.classList.remove('hidden');
                }
                
                updateViewButtons();
            }

            // 排序数据
            function sortResources(resources, field, direction) {
                if (!Array.isArray(resources)) return [];
                
                return [...resources].sort((a, b) => {
                    let valueA = a[field] || '';
                    let valueB = b[field] || '';
                    
                    // 转换为小写进行字符串比较
                    if (typeof valueA === 'string') valueA = valueA.toLowerCase();
                    if (typeof valueB === 'string') valueB = valueB.toLowerCase();
                    
                    if (direction === 'asc') {
                        return valueA > valueB ? 1 : -1;
                    } else {
                        return valueA < valueB ? 1 : -1;
                    }
                });
            }

            // 渲染表格视图（带筛选和排序功能）
            function renderListView(resources) {
                if (!listViewContainer) return;
                
                listViewContainer.innerHTML = '';
                
                if (!resources || resources.length === 0) {
                    listViewContainer.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400 py-8">No resources found</p>';
                    return;
                }
                
                // 应用排序
                const sortedResources = sortResources(resources, sortField, sortDirection);
                
                const table = document.createElement('table');
                table.className = 'w-full border-collapse';
                
                // 创建表头
                table.innerHTML = `
                    <thead>
                        <tr class="bg-gray-100 dark:bg-gray-800">
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer" data-field="name">
                                <div class="flex items-center">
                                    Name
                                    <i class="fas fa-sort-alpha-down ml-1"></i>
                                </div>
                            </th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer" data-field="category">
                                <div class="flex items-center">
                                    Category
                                    <i class="fas fa-sort ml-1"></i>
                                </div>
                            </th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Tags</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer" data-field="popularity">
                                <div class="flex items-center">
                                    Popularity
                                    <i class="fas fa-sort ml-1"></i>
                                </div>
                            </th>
                            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Action</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800">
                        ${sortedResources.map(resource => `
                            <tr class="hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors">
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">${resource.name}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">${resource.category}</td>
                                <td class="px-6 py-4 text-sm text-gray-500 dark:text-gray-400">
                                    <div class="flex flex-wrap gap-1">
                                        ${resource.tags.map(tag => 
                                            `<span class="px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-full text-xs">
                                                ${tag}
                                            </span>`
                                        ).join('')}
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
                                    <div class="flex items-center">
                                        <i class="fas fa-star text-yellow-500 mr-1"></i>${resource.popularity}
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                    <!-- 使用file字段构建正确的链接地址 -->
                                    <a href="/free/detail/${resource.file || resource.name.toLowerCase().replace(/\s+/g, '-')}" class="text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300">
                                        Learn More <i class="fas fa-arrow-right ml-1"></i>
                                    </a>
                                </td>
                            </tr>
                        `).join('')}
                    </tbody>
                `;
                
                listViewContainer.appendChild(table);
                
                // 添加表头排序事件监听
                const thElements = table.querySelectorAll('th[data-field]');
                thElements.forEach(th => {
                    th.addEventListener('click', () => {
                        const field = th.getAttribute('data-field');
                        if (sortField === field) {
                            // 如果点击的是当前排序字段，则切换排序方向
                            sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
                        } else {
                            // 否则设置新的排序字段，默认升序
                            sortField = field;
                            sortDirection = 'asc';
                        }
                        
                        // 更新排序图标
                        updateSortIcons(table);
                        
                        // 重新渲染表格
                        renderListView(resources);
                    });
                });
                
                // 初始化排序图标
                updateSortIcons(table);
            }

            // 更新排序图标
            function updateSortIcons(table) {
                const thElements = table.querySelectorAll('th[data-field]');
                thElements.forEach(th => {
                    const field = th.getAttribute('data-field');
                    const icon = th.querySelector('i');
                    
                    // 重置所有图标
                    icon.className = 'fas fa-sort ml-1';
                    
                    // 设置当前排序字段的图标
                    if (field === sortField) {
                        icon.className = sortDirection === 'asc' ? 'fas fa-sort-alpha-down ml-1' : 'fas fa-sort-alpha-up ml-1';
                    }
                });
            }

            // 渲染无图卡片视图
            function renderCardViewNoImage(resources) {
                if (!cardViewNoImageContainer) return;
                
                cardViewNoImageContainer.innerHTML = '';
                
                if (!resources || resources.length === 0) {
                    cardViewNoImageContainer.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400 py-8">No resources found</p>';
                    return;
                }
                
                resources.forEach(resource => {
                    const card = document.createElement('div');
                    card.className = 'resource-card bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1';
                    card.innerHTML = `
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-4">
                                <h3 class="text-xl font-bold text-gray-900 dark:text-white">${resource.name}</h3>
                                <div class="bg-yellow-500 text-white px-2 py-1 rounded-full text-sm font-semibold">
                                    <i class="fas fa-star mr-1"></i>${resource.popularity}
                                </div>
                            </div>
                            <div class="flex flex-wrap gap-2 mb-4">
                                ${resource.tags.map(tag => 
                                    `<span class="px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-full text-xs">
                                        ${tag}
                                    </span>`
                                ).join('')}
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-gray-500 dark:text-gray-400">${resource.category}</span>
                                <!-- 使用file字段构建正确的链接地址 -->
                                <a href="/free/detail/${resource.file || resource.name.toLowerCase().replace(/\s+/g, '-')}" class="text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 font-medium">
                                    Learn More <i class="fas fa-arrow-right ml-1"></i>
                                </a>
                            </div>
                        </div>
                    `;
                    cardViewNoImageContainer.appendChild(card);
                });
            }

            // 渲染有图卡片视图（每行5个）
            function renderCardViewWithImage(resources) {
                if (!cardViewWithImageContainer) return;
                
                // 修改容器的CSS类，使其每行显示5个项目
                cardViewWithImageContainer.className = 'grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6';
                
                cardViewWithImageContainer.innerHTML = '';
                
                if (!resources || resources.length === 0) {
                    cardViewWithImageContainer.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400 py-8">No resources found</p>';
                    return;
                }
                
                resources.forEach((resource, index) => {
                    const card = document.createElement('div');
                    card.className = 'resource-card bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1';
                    card.innerHTML = `
                        <div class="relative h-40 overflow-hidden">
                            <img src="https://picsum.photos/400/300?random=${index}" 
                                 alt="${resource.name}" 
                                 class="w-full h-full object-cover lazy-placeholder" loading="lazy">
                            <div class="absolute top-4 right-4">
                                <div class="bg-yellow-500 text-white px-2 py-1 rounded-full text-sm font-semibold">
                                    <i class="fas fa-star mr-1"></i>${resource.popularity}
                                </div>
                            </div>
                        </div>
                        <div class="p-4">
                            <h3 class="text-lg font-bold mb-2 text-gray-900 dark:text-white truncate">${resource.name}</h3>
                            <div class="flex flex-wrap gap-1 mb-3">
                                ${resource.tags.slice(0, 3).map(tag => 
                                    `<span class="px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-full text-xs truncate">
                                        ${tag}
                                    </span>`
                                ).join('')}${resource.tags.length > 3 ? ` <span class="text-xs text-gray-500 dark:text-gray-400">+${resource.tags.length - 3}</span>` : ''}
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-xs text-gray-500 dark:text-gray-400">${resource.category}</span>
                                <!-- 使用file字段构建正确的链接地址 -->
                                <a href="/free/detail/${resource.file || resource.name.toLowerCase().replace(/\s+/g, '-')}" class="text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 text-sm font-medium">
                                    Learn More <i class="fas fa-arrow-right ml-1"></i>
                                </a>
                            </div>
                        </div>
                    `;
                    cardViewWithImageContainer.appendChild(card);
                });
            }

            // 根据当前视图渲染资源
            function renderResourcesByView(resources) {
                if (!resources || resources.length === 0) {
                    // 处理空数据情况
                    if (currentView === 'list' && listViewContainer) {
                        listViewContainer.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400 py-8">No resources found</p>';
                    } else if (currentView === 'cardNoImage' && cardViewNoImageContainer) {
                        cardViewNoImageContainer.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400 py-8">No resources found</p>';
                    } else if (currentView === 'cardWithImage' && cardViewWithImageContainer) {
                        cardViewWithImageContainer.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400 py-8">No resources found</p>';
                    }
                    return;
                }
                
                if (currentView === 'list') {
                    renderListView(resources);
                } else if (currentView === 'cardNoImage') {
                    renderCardViewNoImage(resources);
                } else if (currentView === 'cardWithImage') {
                    renderCardViewWithImage(resources);
                }
            }

            // 搜索功能
            function setupSearch(resources) {
                const searchInput = document.getElementById('searchInput');
                if (!searchInput) return;

                searchInput.addEventListener('input', function(e) {
                    const searchTerm = e.target.value.toLowerCase();
                    const filtered = resources.filter(resource => 
                        resource.name.toLowerCase().includes(searchTerm) ||
                        resource.tags.some(tag => tag.toLowerCase().includes(searchTerm))
                    );
                    renderResourcesByView(filtered);
                });
            }

            // 设置视图切换按钮
            function setupViewSwitchers(resources) {
                Object.entries(viewButtons).forEach(([view, button]) => {
                    button.addEventListener('click', () => {
                        switchView(view);
                        renderResourcesByView(resources);
                    });
                });
            }

            // 昼夜模式切换
            function setupDarkMode() {
                const darkModeToggle = document.getElementById('darkModeToggle');
                const html = document.documentElement;
                
                // 检查本地存储的主题设置
                const currentTheme = localStorage.getItem('theme') || 'light';
                if (currentTheme === 'dark') {
                    html.classList.add('dark');
                }

                darkModeToggle.addEventListener('click', function() {
                    html.classList.toggle('dark');
                    const isDark = html.classList.contains('dark');
                    localStorage.setItem('theme', isDark ? 'dark' : 'light');
                });
            }

            // 滚动进度指示器
            function setupScrollProgress() {
                const scrollProgress = document.getElementById('scrollProgress');
                if (!scrollProgress) return;

                window.addEventListener('scroll', function() {
                    const scrollTop = window.pageYOffset;
                    const docHeight = document.body.scrollHeight - window.innerHeight;
                    const scrollPercent = (scrollTop / docHeight) * 100;
                    scrollProgress.style.width = scrollPercent + '%';
                });
            }

            // 返回顶部按钮
            function setupBackToTop() {
                const backToTop = document.getElementById('backToTop');
                if (!backToTop) return;

                window.addEventListener('scroll', function() {
                    if (window.pageYOffset > 300) {
                        backToTop.classList.remove('opacity-0', 'invisible');
                        backToTop.classList.add('opacity-100', 'visible');
                    } else {
                        backToTop.classList.add('opacity-0', 'invisible');
                        backToTop.classList.remove('opacity-100', 'visible');
                    }
                });

                backToTop.addEventListener('click', function() {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            }

            // 收藏功能
            function setupBookmark() {
                const bookmarkBtn = document.getElementById('bookmarkBtn');
                if (!bookmarkBtn) return;

                let isBookmarked = localStorage.getItem('bookmarked') === 'true';
                updateBookmarkIcon();

                function updateBookmarkIcon() {
                    const icon = bookmarkBtn.querySelector('i');
                    if (isBookmarked) {
                        icon.classList.remove('far');
                        icon.classList.add('fas');
                        bookmarkBtn.classList.add('bg-yellow-600');
                        bookmarkBtn.classList.remove('bg-yellow-500');
                    } else {
                        icon.classList.remove('fas');
                        icon.classList.add('far');
                        bookmarkBtn.classList.remove('bg-yellow-600');
                        bookmarkBtn.classList.add('bg-yellow-500');
                    }
                }

                bookmarkBtn.addEventListener('click', function() {
                    isBookmarked = !isBookmarked;
                    localStorage.setItem('bookmarked', isBookmarked);
                    updateBookmarkIcon();
                });
            }

            // 分享功能
            function setupShare() {
                const shareBtn = document.getElementById('shareBtn');
                if (!shareBtn) return;

                shareBtn.addEventListener('click', function() {
                    if (navigator.share) {
                        navigator.share({
                            title: 'Database Solutions',
                            text: 'Check out these amazing database solutions!',
                            url: window.location.href
                        });
                    } else {
                        // 复制链接到剪贴板
                        navigator.clipboard.writeText(window.location.href).then(function() {
                            // 显示复制成功提示
                            const originalText = shareBtn.innerHTML;
                            shareBtn.innerHTML = '<i class="fas fa-check"></i>';
                            shareBtn.classList.add('bg-green-600');
                            setTimeout(() => {
                                shareBtn.innerHTML = originalText;
                                shareBtn.classList.remove('bg-green-600');
                            }, 2000);
                        });
                    }
                });
            }

            // 初始化所有功能
            async function init() {
                try {
                    const allData = await loadData();
                    const databaseData = filterDatabaseData(allData);
                    
                    // 初始化视图
                    switchView(currentView);
                    updateViewButtons();
                    
                    renderResourcesByView(databaseData);
                    setupSearch(databaseData);
                    setupViewSwitchers(databaseData);
                    setupDarkMode();
                    setupScrollProgress();
                    setupBackToTop();
                    setupBookmark();
                    setupShare();
                } catch (error) {
                    console.error('Initialization error:', error);
                    // 显示错误信息
                    const containers = [listViewContainer, cardViewNoImageContainer, cardViewWithImageContainer];
                    containers.forEach(container => {
                        if (container) {
                            container.innerHTML = '<p class="text-center text-red-500 py-8">Failed to load resources. Please try again later.</p>';
                        }
                    });
                }
            }

            init();
        });
    </script>
</body>
</html>