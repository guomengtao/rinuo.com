<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>免费开源图表库（Chart Libraries）工具大全 | 精选25款可视化框架资源</title>
    <meta name="description" content="收录25款主流免费图表库，涵盖JavaScript、React、数据可视化等多领域，提供统计图表、科学可视化和交互式图表解决方案，助力数据可视化开发。">
    
    <!-- 外部资源引入 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Tailwind配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#36D399',
                        dark: '#0f172a',
                        card: '#1e293b',
                        muted: '#94a3b8',
                        accent: '#f97316',
                        danger: '#ef4444',
                        success: '#10b981',
                        javascript: '#f7df1e',
                        react: '#61dafb',
                        python: '#3776ab',
                        java: '#007396',
                        css: '#264de4'
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                        mono: ['Fira Code', 'monospace']
                    },
                    boxShadow: {
                        'card': '0 4px 20px rgba(0, 0, 0, 0.15)',
                        'card-hover': '0 10px 30px rgba(22, 93, 255, 0.2)',
                    }
                },
            }
        }
    </script>
    
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                box-shadow: 0 10px 30px rgba(22, 93, 255, 0.2);
                transform: translateY(-0.25rem);
            }
            .bg-gradient-charts {
                background: linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }
            .animate-fade-in {
                animation: fadeIn 0.5s ease-in-out;
            }
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
            .clipboard-success {
                animation: clipSuccess 2s ease-in-out;
            }
            @keyframes clipSuccess {
                0% { background-color: rgba(16, 185, 129, 0.2); }
                100% { background-color: transparent; }
            }
        }
    </style>
</head>
<body class="font-inter bg-gradient-charts text-gray-200 min-h-screen">
    <!-- 顶部导航栏 -->
    <header class="bg-dark/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-800 transition-all duration-300">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <!-- Logo区域 -->
            <a href="#" class="flex items-center space-x-2 group">
                <i class="fa fa-bar-chart text-primary text-2xl group-hover:rotate-6 transition-transform duration-300"></i>
                <h1 class="text-xl md:text-2xl font-bold text-white">图表库导航</h1>
            </a>
            
            <!-- 桌面端导航 -->
            <div class="hidden md:flex items-center space-x-6">
                <a href="#" class="text-gray-300 hover:text-primary transition-colors relative after:absolute after:bottom-0 after:left-0 after:h-0.5 after:w-0 after:bg-primary after:rounded-full after:transition-all hover:after:w-full">数据可视化</a>
                <a href="#" class="text-primary font-medium relative after:absolute after:bottom-0 after:left-0 after:h-0.5 after:w-full after:bg-primary after:rounded-full">图表库</a>
                <a href="#" class="text-gray-300 hover:text-primary transition-colors relative after:absolute after:bottom-0 after:left-0 after:h-0.5 after:w-0 after:bg-primary after:rounded-full after:transition-all hover:after:w-full">可视化教程</a>
                <a href="#" class="text-gray-300 hover:text-primary transition-colors relative after:absolute after:bottom-0 after:left-0 after:h-0.5 after:w-0 after:bg-primary after:rounded-full after:transition-all hover:after:w-full">案例展示</a>
                <a href="#" class="text-gray-300 hover:text-primary transition-colors relative after:absolute after:bottom-0 after:left-0 after:h-0.5 after:w-0 after:bg-primary after:rounded-full after:transition-all hover:after:w-full">资源下载</a>
                <a href="https://github.com/your-org/chart-libraries" target="_blank" class="text-muted hover:text-primary transition-colors flex items-center group">
                    <i class="fa fa-github mr-1 group-hover:rotate-12 transition-transform duration-300"></i> GitHub
                </a>
            </div>
            
            <!-- 移动端菜单按钮 -->
            <button class="md:hidden text-gray-300 focus:outline-none" id="menuBtn">
                <i class="fa fa-bars text-xl transition-transform duration-300 hover:rotate-90"></i>
            </button>
        </div>
        
        <!-- 移动端导航菜单 -->
        <div class="md:hidden hidden bg-dark border-t border-gray-800" id="mobileMenu">
            <div class="container mx-auto px-4 py-3 flex flex-col space-y-3">
                <a href="#" class="py-2 text-gray-300 hover:text-primary transition-colors">数据可视化</a>
                <a href="#" class="py-2 text-primary font-medium">图表库</a>
                <a href="#" class="py-2 text-gray-300 hover:text-primary transition-colors">可视化教程</a>
                <a href="#" class="py-2 text-gray-300 hover:text-primary transition-colors">案例展示</a>
                <a href="#" class="py-2 text-gray-300 hover:text-primary transition-colors">资源下载</a>
                <a href="https://github.com/your-org/chart-libraries" target="_blank" class="py-2 text-muted hover:text-primary transition-colors flex items-center">
                    <i class="fa fa-github mr-1"></i> GitHub
                </a>
            </div>
        </div>
    </header>

    <!-- 页面主体内容 -->
    <main class="container mx-auto px-4 py-8 md:py-12">
        <!-- 页面标题区 -->
        <header class="mb-10 md:mb-14">
            <div class="flex items-center mb-2 flex-wrap gap-3">
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary/20 text-primary mr-3">
                    <i class="fa fa-pie-chart mr-1"></i> 25款工具
                </span>
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-javascript/20 text-javascript mr-3">
                    <i class="fa fa-code mr-1"></i> 多语言支持
                </span>
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-accent/20 text-accent mr-3">
                    <i class="fa fa-line-chart mr-1"></i> 数据可视化
                </span>
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-secondary/20 text-secondary">
                    <i class="fa fa-mouse-pointer mr-1"></i> 交互图表
                </span>
                <span class="text-sm text-muted ml-auto">最后更新：2025-09-01</span>
            </div>
            <h1 class="text-[clamp(1.8rem,5vw,3rem)] font-bold text-white mb-4 text-shadow">
                免费开源图表库工具大全
            </h1>
            <p class="text-muted text-lg max-w-3xl">
                精选25款主流免费图表库，涵盖JavaScript、React、数据可视化等多领域，
                提供统计图表、科学可视化和交互式图表解决方案，适合数据分析、仪表盘和数据可视化开发等场景。
            </p>
        </header>

        <!-- 筛选工具栏 -->
        <div class="bg-card rounded-xl p-4 mb-8 shadow-card border border-gray-800">
            <div class="flex flex-col md:flex-row gap-4">
                <div class="flex-grow relative">
                    <i class="fa fa-search absolute left-3 top-1/2 -translate-y-1/2 text-muted"></i>
                    <input id="q" type="search" placeholder="搜索图表库名称 / 类型 / 特点..." 
                        class="w-full pl-10 pr-4 py-3 bg-dark border border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all text-gray-200 placeholder-muted">
                </div>
                <div class="flex gap-4 w-full md:w-auto">
                    <select id="category" 
                        class="flex-grow md:flex-grow-0 md:w-40 bg-dark border border-gray-700 rounded-lg px-4 py-3 focus:ring-2 focus:ring-primary focus:border-primary transition-all text-gray-200 appearance-none bg-[url('data:image/svg+xml;charset=US-ASCII,<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 10l5 5 5-5z\" fill=\"%2394a3b8\"/></svg>')] bg-no-repeat bg-right bg-center pr-8">
                        <option value="">按类型筛选</option>
                        <option>通用图表库</option>
                        <option>React专用</option>
                        <option>科学可视化</option>
                        <option>网络图/关系图</option>
                        <option>时间序列</option>
                        <option>其他</option>
                    </select>
                    <select id="sort" 
                        class="flex-grow md:flex-grow-0 md:w-36 bg-dark border border-gray-700 rounded-lg px-4 py-3 focus:ring-2 focus:ring-primary focus:border-primary transition-all text-gray-200 appearance-none bg-[url('data:image/svg+xml;charset=US-ASCII,<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 10l5 5 5-5z\" fill=\"%2394a3b8\"/></svg>')] bg-no-repeat bg-right bg-center pr-8">
                        <option value="name">排序：名称</option>
                        <option value="popularity">排序：受欢迎度</option>
                    </select>
                </div>
            </div>
            <div class="stats text-muted text-sm mt-3" id="stats">载入中…</div>
        </div>

        <!-- 图表库工具列表 -->
        <section id="list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- 加载状态指示器 -->
            <div id="loadingIndicator" class="col-span-full flex flex-col items-center justify-center py-16">
                <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mb-4"></div>
                <p class="text-muted">正在加载图表库数据...</p>
            </div>
            
            <!-- 错误状态指示器 -->
            <div id="errorIndicator" class="col-span-full hidden flex-col items-center justify-center py-16">
                <i class="fa fa-exclamation-triangle text-danger text-3xl mb-4"></i>
                <p class="text-danger mb-2">加载数据时出错</p>
                <p class="text-muted mb-4">无法加载图表库列表，请尝试刷新页面</p>
                <button id="retryBtn" class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg transition-colors">
                    重试加载
                </button>
            </div>
        </section>

        <!-- 图表库使用指南卡片 -->
        <div class="mt-12 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-xl p-5 border border-primary/30">
            <div class="flex">
                <div class="flex-shrink-0 mr-4 mt-1">
                    <i class="fa fa-book text-primary text-2xl"></i>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-white mb-2">图表库使用指南</h3>
                    <p class="text-gray-300 mb-3">
                        选择合适的图表库需要考虑以下因素：
                    </p>
                    <ul class="text-gray-300 space-y-2 mb-3 list-disc pl-5">
                        <li>简单统计图表：Chart.js、Google Charts 等轻量级库</li>
                        <li>复杂交互可视化：ECharts、Highcharts、Plotly.js</li>
                        <li>高度定制化需求：D3.js、Vega/Vega-Lite</li>
                        <li>React 项目：Recharts、Nivo、Visx</li>
                        <li>关系图/网络图：AntV G6、Sigma.js、Cytoscape.js</li>
                        <li>时间序列数据：Dygraphs、ApexCharts.js</li>
                    </ul>
                    <p class="text-gray-300">
                        选择时还需考虑项目规模、性能需求、学习成本和许可协议等因素，商业项目需特别注意开源许可的限制。
                    </p>
                </div>
            </div>
        </div>

        <!-- 图表库选择工具 -->
        <div class="mt-8 bg-card rounded-xl p-5 border border-gray-800 shadow-card">
            <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                <i class="fa fa-sitemap text-secondary mr-2"></i> 图表库选择助手
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm text-gray-300 mb-1">你的开发环境？</label>
                    <select id="envPreference" class="w-full bg-dark border border-gray-700 rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary focus:border-primary transition-all text-gray-200">
                        <option value="">请选择开发环境</option>
                        <option value="vanilla">原生 JavaScript</option>
                        <option value="react">React</option>
                        <option value="vue">Vue</option>
                        <option value="angular">Angular</option>
                        <option value="other">其他/无所谓</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm text-gray-300 mb-1">需要的图表类型？</label>
                    <select id="chartType" class="w-full bg-dark border border-gray-700 rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary focus:border-primary transition-all text-gray-200">
                        <option value="">请选择图表类型</option>
                        <option value="basic">基础统计图表（柱状图、折线图等）</option>
                        <option value="advanced">高级可视化（3D、地图等）</option>
                        <option value="network">网络图/关系图</option>
                        <option value="time">时间序列数据</option>
                        <option value="scientific">科学可视化</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm text-gray-300 mb-1">你的技术需求？</label>
                    <select id="techNeeds" class="w-full bg-dark border border-gray-700 rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary focus:border-primary transition-all text-gray-200">
                        <option value="">请选择技术需求</option>
                        <option value="simple">简单易用，快速实现</option>
                        <option value="custom">高度可定制</option>
                        <option value="interactive">强交互性</option>
                        <option value="performance">高性能，大数据量</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm text-gray-300 mb-1">项目性质？</label>
                    <select id="projectType" class="w-full bg-dark border border-gray-700 rounded-lg px-4 py-2 focus:ring-2 focus:ring-primary focus:border-primary transition-all text-gray-200">
                        <option value="">请选择项目性质</option>
                        <option value="nonprofit">非商业/开源项目</option>
                        <option value="commercial">商业项目</option>
                        <option value="personal">个人项目</option>
                    </select>
                </div>
            </div>
            <div class="mt-4">
                <button id="recommendBtn" class="bg-secondary hover:bg-secondary/90 text-white px-4 py-2 rounded-lg transition-colors">
                    <i class="fa fa-lightbulb-o mr-1"></i> 获取推荐图表库
                </button>
            </div>
            <div id="recommendationResult" class="mt-4 hidden">
                <div class="p-3 rounded-lg border" id="recommendationContent"></div>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-dark border-t border-gray-800 mt-16 py-10">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <i class="fa fa-bar-chart text-primary text-2xl"></i>
                        <h2 class="text-xl font-bold text-white">图表库导航</h2>
                    </div>
                    <p class="text-muted text-sm">
                        精选高质量开源图表库与可视化工具，助力开发者高效实现数据可视化，
                        提供从简单统计图表到复杂科学可视化的全流程解决方案。
                    </p>
                </div>
                
                <div>
                    <h3 class="text-lg font-medium mb-4 text-white">快速链接</h3>
                    <ul class="space-y-2 text-muted">
                        <li><a href="#" class="hover:text-primary transition-colors"><i class="fa fa-angle-right mr-1"></i> 数据可视化</a></li>
                        <li><a href="#" class="hover:text-primary transition-colors"><i class="fa fa-angle-right mr-1"></i> 图表库</a></li>
                        <li><a href="#" class="hover:text-primary transition-colors"><i class="fa fa-angle-right mr-1"></i> 可视化教程</a></li>
                        <li><a href="#" class="hover:text-primary transition-colors"><i class="fa fa-angle-right mr-1"></i> 案例展示</a></li>
                        <li><a href="#" class="hover:text-primary transition-colors"><i class="fa fa-angle-right mr-1"></i> 联系我们</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-medium mb-4 text-white">关注我们</h3>
                    <div class="flex space-x-4 mb-4">
                        <a href="https://github.com/your-org/chart-libraries" target="_blank" class="text-muted hover:text-primary transition-colors text-xl hover:scale-110 transform duration-300">
                            <i class="fa fa-github"></i>
                        </a>
                        <a href="#" class="text-muted hover:text-primary transition-colors text-xl hover:scale-110 transform duration-300">
                            <i class="fa fa-twitter"></i>
                        </a>
                        <a href="#" class="text-muted hover:text-primary transition-colors text-xl hover:scale-110 transform duration-300">
                            <i class="fa fa-linkedin"></i>
                        </a>
                        <a href="#" class="text-muted hover:text-primary transition-colors text-xl hover:scale-110 transform duration-300">
                            <i class="fa fa-telegram"></i>
                        </a>
                    </div>
                    <p class="text-muted text-sm">
                        订阅获取最新图表库与可视化技术资讯
                    </p>
                    <form id="footerSubscribeForm" class="mt-3 flex">
                        <input type="email" id="subscribe-email" placeholder="您的邮箱地址" 
                            class="px-3 py-2 rounded-l-lg text-gray-200 bg-card border border-gray-700 flex-grow text-sm focus:outline-none focus:ring-2 focus:ring-primary">
                        <button type="submit" class="bg-primary hover:bg-primary/90 text-white px-3 py-2 rounded-r-lg transition-colors">
                            订阅
                        </button>
                    </form>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-8 pt-6 text-center text-muted text-sm">
                <p>© 2025 图表库导航 | 仅供合法用途与技术研究使用</p>
            </div>
        </div>
    </footer>

    <!-- 回到顶部按钮 -->
    <button id="backToTop" class="fixed bottom-6 right-6 bg-primary hover:bg-primary/90 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg transition-all duration-300 opacity-0 invisible hover:scale-110 z-40">
        <i class="fa fa-chevron-up"></i>
    </button>

    <!-- 页面交互逻辑 -->
    <script>
        // 图表库数据 - 包含全部25款工具
        const CHART_LIBRARIES = [
            {
                id: 1,
                name: "ECharts",
                url: "https://echarts.apache.org/",
                type: ["通用图表库", "2D/3D", "交互性强"],
                language: "JavaScript",
                popularity: 9.2,
                description: "百度出品，Apache 孵化的可视化库，支持 2D/3D 图表，国内使用广泛，文档丰富。",
                缺点: "配置复杂，学习成本较高，文件体积较大。",
                comments: [
                    "图表种类最全的库之一，中文支持友好。",
                    "文档多但有点乱，配置项太多记不住。"
                ],
                example: "const chart = echarts.init(document.getElementById('main'));\nchart.setOption({/* 配置 */});",
                useCase: "适用于需要丰富图表类型和交互效果的各类项目，尤其是国内企业应用。"
            },
            {
                id: 2,
                name: "Chart.js",
                url: "https://www.chartjs.org/",
                type: ["通用图表库", "轻量级", "基础图表"],
                language: "JavaScript",
                popularity: 9.0,
                description: "轻量级 HTML5 Canvas 图表库，简单易用，API 友好，社区活跃。",
                缺点: "功能有限，交互性弱，不支持复杂图表。",
                comments: [
                    "做基础统计图表特别快，上手零难度。",
                    "复杂可视化不太够用，定制化程度有限。"
                ],
                example: "new Chart(ctx, {\n  type: 'bar',\n  data: {/* 数据 */}\n});",
                useCase: "适用于需要快速实现基础图表展示的场景，对交互要求不高的项目。"
            },
            {
                id: 3,
                name: "D3.js",
                url: "https://d3js.org/",
                type: ["底层可视化库", "高度定制", "数据驱动"],
                language: "JavaScript",
                popularity: 9.5,
                description: "功能最强的可视化底层库，可以定制任意图形，完全数据驱动，灵活性极高。",
                缺点: "API 庞大，学习曲线陡峭，开发效率低。",
                comments: [
                    "真正的可视化神器，只有想不到没有做不到。",
                    "上手难度堪比学一门语言，小项目用它太浪费。"
                ],
                example: "d3.select('body').append('svg')\n  .attr('width', 100)\n  .attr('height', 100);",
                useCase: "适用于需要高度定制化可视化效果的场景，对图表有特殊需求的项目。"
            },
            {
                id: 4,
                name: "Plotly.js",
                url: "https://plotly.com/javascript/",
                type: ["科学可视化", "统计图表", "交互性强"],
                language: "JavaScript",
                popularity: 8.5,
                description: "支持交互式统计图表，科学计算社区常用，支持多种图表类型和3D可视化。",
                缺点: "文件体积大，加载慢，定制样式复杂。",
                comments: [
                    "科研画图神器，统计图表功能特别全。",
                    "加载太慢，简单页面用它太重量级。"
                ],
                example: "Plotly.newPlot('myDiv', data, layout);",
                useCase: "适用于科学研究、数据分析类项目，需要复杂统计图表的场景。"
            },
            {
                id: 5,
                name: "Vega / Vega-Lite",
                url: "https://vega.github.io/",
                type: ["声明式可视化", "高定制性"],
                language: "JavaScript",
                popularity: 7.8,
                description: "声明式可视化语法，可快速绘制交互图表，基于 JSON 配置，适合数据科学家使用。",
                缺点: "语法复杂，调试麻烦，学习成本高。",
                comments: [
                    "搭配 JSON 配置超强，可视化逻辑清晰。",
                    "文档略晦涩，入门门槛不低。"
                ],
                example: "var spec = {/* Vega 规范 */};\nvegaEmbed('#vis', spec);",
                useCase: "适用于数据科学领域，需要生成可复现的可视化结果的场景。"
            },
            {
                id: 6,
                name: "Highcharts (Free for Non-commercial)",
                url: "https://www.highcharts.com/",
                type: ["通用图表库", "企业级", "交互性强"],
                language: "JavaScript",
                popularity: 8.8,
                description: "功能全面，商业项目广泛使用，文档完善，兼容性好，支持多种设备。",
                缺点: "商用需付费，授权费用高，体积较大。",
                comments: [
                    "文档和例子最全，几乎没有解决不了的问题。",
                    "授权太贵，中小企业用不起。"
                ],
                example: "Highcharts.chart('container', {\n  chart: { type: 'bar' },\n  /* 配置 */\n});",
                useCase: "适用于非商业项目或有足够预算的商业项目，需要稳定可靠的图表解决方案。"
            },
            {
                id: 7,
                name: "Recharts",
                url: "https://recharts.org/",
                type: ["React专用", "组件化", "轻量级"],
                language: "JavaScript/React",
                popularity: 8.6,
                description: "React 专用图表库，基于 D3，组件化设计，与 React 生态无缝集成。",
                缺点: "依赖 React，灵活性有限，复杂图表实现困难。",
                comments: [
                    "React 项目必备，使用体验非常符合 React 思维。",
                    "自定义难度大，复杂需求还是得用 D3。"
                ],
                example: "<LineChart data={data}>\n  <XAxis dataKey='name' />\n  <Line type='monotone' dataKey='value' />\n</LineChart>",
                useCase: "适用于 React 项目中需要快速集成图表的场景，特别是仪表盘类应用。"
            },
            {
                id: 8,
                name: "Visx",
                url: "https://airbnb.io/visx/",
                type: ["React专用", "基于D3", "模块化"],
                language: "JavaScript/React",
                popularity: 7.5,
                description: "Airbnb 出品的 React+D3 可视化库，模块化设计，兼顾性能和灵活性。",
                缺点: "偏底层，入门难，需要理解 D3 概念。",
                comments: [
                    "性能好，React 专用，组件设计很优雅。",
                    "没现成组件，很多要自己做，开发效率不高。"
                ],
                example: "import { Bar } from '@visx/shape';\n<Bar data={data} /* 属性 */ />",
                useCase: "适用于 React 项目中需要一定定制化程度的可视化场景，有 D3 使用经验者更佳。"
            },
            {
                id: 9,
                name: "Nivo",
                url: "https://nivo.rocks/",
                type: ["React专用", "高颜值", "交互性强"],
                language: "JavaScript/React",
                popularity: 8.0,
                description: "React 图表库，内置丰富主题，视觉效果出色，支持多种交互方式。",
                缺点: "配置复杂，打包体积大，性能一般。",
                comments: [
                    "外观漂亮，不用自己调样式也能出好效果。",
                    "调样式要折腾，文档不够详细。"
                ],
                example: "<ResponsiveBar\n  data={data}\n  keys={['value']}\n  indexBy='name'\n/>",
                useCase: "适用于 React 项目中对视觉效果要求较高的场景，如数据仪表盘。"
            },
            {
                id: 10,
                name: "Victory",
                url: "https://formidable.com/open-source/victory/",
                type: ["React专用", "跨平台", "响应式"],
                language: "JavaScript/React",
                popularity: 7.0,
                description: "React & React Native 图表库，跨平台支持，响应式设计，动画效果丰富。",
                缺点: "文档略少，复杂图表支持不足。",
                comments: [
                    "移动端 React 可视化好用，一套代码多端运行。",
                    "功能没 Recharts 全，复杂场景满足不了。"
                ],
                example: "<VictoryBar\n  data={data}\n  x='name'\n  y='value'\n/>",
                useCase: "适用于需要同时支持 Web 和移动端的 React 项目，特别是 React Native 应用。"
            },
            {
                id: 11,
                name: "ApexCharts.js",
                url: "https://apexcharts.com/",
                type: ["通用图表库", "交互性强", "时间序列"],
                language: "JavaScript",
                popularity: 8.2,
                description: "现代化交互图表库，支持时间序列，主题丰富，配置简单，响应式设计。",
                缺点: "免费版功能有限，商业授权费用高。",
                comments: [
                    "漂亮又好上手，时间序列图表特别出色。",
                    "部分高级功能要付费，感觉有点坑。"
                ],
                example: "var chart = new ApexCharts(\n  document.querySelector('#chart'),\n  options\n);\nchart.render();",
                useCase: "适用于需要现代美感和良好交互体验的项目，尤其是时间序列数据可视化。"
            },
            {
                id: 12,
                name: "C3.js",
                url: "https://c3js.org/",
                type: ["通用图表库", "基于D3", "轻量级"],
                language: "JavaScript",
                popularity: 6.5,
                description: "基于 D3 的封装，API 更简洁，学习曲线平缓，保留了 D3 的部分灵活性。",
                缺点: "功能有限，已少更新，社区活跃度低。",
                comments: [
                    "适合快速项目，比 D3 简单，比 Chart.js 灵活。",
                    "社区冷清，问题没人解答，有点过时了。"
                ],
                example: "var chart = c3.generate({\n  bindto: '#chart',\n  data: {/* 数据 */}\n});",
                useCase: "适用于需要比基础图表库更灵活，但又不想直接使用 D3 的中小型项目。"
            },
            {
                id: 13,
                name: "AntV G2",
                url: "https://g2.antv.antgroup.com/",
                type: ["通用图表库", "声明式", "数据驱动"],
                language: "JavaScript",
                popularity: 8.0,
                description: "蚂蚁集团出品，声明式可视化库，基于图形语法，数据处理能力强。",
                缺点: "学习成本较高，文档不够友好，上手难度大。",
                comments: [
                    "图形语法很强大，复杂数据可视化很方便。",
                    "文档晦涩，例子不够多，入门不容易。"
                ],
                example: "const chart = new G2.Chart({\n  container: 'container',\n  width: 600,\n  height: 300\n});",
                useCase: "适用于中大型数据可视化项目，尤其是企业级应用和数据分析平台。"
            },
            {
                id: 14,
                name: "AntV G6",
                url: "https://g6.antv.antgroup.com/",
                type: ["网络图/关系图", "图可视化", "交互性强"],
                language: "JavaScript",
                popularity: 7.5,
                description: "专注于关系图和网络图的可视化库，支持大规模图数据，布局算法丰富。",
                缺点: "只适合图关系，不适合常规图表，学习成本高。",
                comments: [
                    "画知识图谱神器，布局算法很专业。",
                    "入门有点难，文档需要改进。"
                ],
                example: "const graph = new G6.Graph({\n  container: 'container',\n  width: 800,\n  height: 600\n});",
                useCase: "适用于需要可视化展示关系数据的场景，如知识图谱、社交网络、流程图等。"
            },
            {
                id: 15,
                name: "AntV F2",
                url: "https://f2.antv.vision/",
                type: ["移动端优先", "轻量级", "响应式"],
                language: "JavaScript",
                popularity: 6.8,
                description: "移动端优先的图表库，体积小，性能好，适配各种移动设备屏幕。",
                缺点: "生态较小，复杂图表支持不足，桌面端功能有限。",
                comments: [
                    "H5 页面画图很好用，性能出色。",
                    "功能不如 G2 全，复杂需求满足不了。"
                ],
                example: "const chart = new F2.Chart({\n  id: 'container',\n  pixelRatio: window.devicePixelRatio\n});",
                useCase: "适用于移动端 H5 应用、小程序等场景，对性能和体积有严格要求的项目。"
            },
            {
                id: 16,
                name: "Sigma.js",
                url: "https://www.sigmajs.org/",
                type: ["网络图/关系图", "轻量级", "高性能"],
                language: "JavaScript",
                popularity: 6.5,
                description: "专注网络图可视化，轻量级，性能优秀，支持大规模网络数据渲染。",
                缺点: "不适合普通图表，API 不够友好，文档有限。",
                comments: [
                    "关系数据的好帮手，渲染大量节点也不卡。",
                    "复杂场景容易卡，定制化需要深入源码。"
                ],
                example: "const sigma = new sigma({\n  container: 'container',\n  graph: {/* 图数据 */}\n});",
                useCase: "适用于需要展示和分析网络关系数据的场景，如社交网络分析、网络拓扑图等。"
            },
            {
                id: 17,
                name: "Cytoscape.js",
                url: "https://js.cytoscape.org/",
                type: ["网络图/关系图", "科学可视化", "算法丰富"],
                language: "JavaScript",
                popularity: 7.0,
                description: "网络生物学和图关系可视化库，算法丰富，分析功能强大，扩展性好。",
                缺点: "学习曲线陡峭，API 复杂，不适合快速开发。",
                comments: [
                    "科研人员爱用，图分析功能强大。",
                    "普通开发者用不到，学习成本太高。"
                ],
                example: "var cy = cytoscape({\n  container: document.getElementById('cy'),\n  elements: {/* 元素 */}\n});",
                useCase: "适用于科学研究、生物信息学、复杂网络分析等专业领域的可视化需求。"
            },
            {
                id: 18,
                name: "Dygraphs",
                url: "http://dygraphs.com/",
                type: ["时间序列", "高性能", "科学数据"],
                language: "JavaScript",
                popularity: 6.0,
                description: "专注时间序列可视化，支持大量数据点，交互性好，支持缩放和平移。",
                缺点: "设计老旧，社区小，非时间序列图表支持差。",
                comments: [
                    "处理大量时间序列数据很快，交互体验好。",
                    "外观太过时，定制样式很麻烦。"
                ],
                example: "new Dygraph(\n  document.getElementById('graphdiv'),\n  data,\n  {/* 选项 */}\n);",
                useCase: "适用于需要展示大量时间序列数据的场景，如金融数据、传感器数据、日志分析等。"
            },
            {
                id: 19,
                name: "ZingChart (Free limited)",
                url: "https://www.zingchart.com/",
                type: ["通用图表库", "高性能", "丰富图表类型"],
                language: "JavaScript",
                popularity: 7.2,
                description: "高性能 JS 图表库，功能非常全面，支持 35+ 图表类型，渲染速度快。",
                缺点: "免费版带水印，高级功能需付费，体积较大。",
                comments: [
                    "功能巨多，几乎所有图表类型都支持。",
                    "水印太烦人，付费版价格偏高。"
                ],
                example: "zingchart.render({\n  id: 'myChart',\n  data: {/* 配置 */}\n});",
                useCase: "适用于对图表类型有多样化需求的项目，可先试用免费版评估后再考虑付费。"
            },
            {
                id: 20,
                name: "Google Charts",
                url: "https://developers.google.com/chart",
                type: ["通用图表库", "云端", "简单易用"],
                language: "JavaScript",
                popularity: 7.8,
                description: "Google 提供的免费云端图表工具，种类丰富，配置简单，与 Google 服务集成好。",
                缺点: "依赖 Google 服务，国内访问不稳定，定制化有限。",
                comments: [
                    "文档全面，例子丰富，上手容易。",
                    "国内访问不稳定，离线使用麻烦。"
                ],
                example: "google.charts.load('current', {'packages':['corechart']});\ngoogle.charts.setOnLoadCallback(drawChart);",
                useCase: "适用于对访问稳定性要求不高的项目，或主要面向海外用户的应用。"
            },
            {
                id: 21,
                name: "FusionCharts (Free Trial)",
                url: "https://www.fusioncharts.com/",
                type: ["通用图表库", "企业级", "丰富图表类型"],
                language: "JavaScript",
                popularity: 7.0,
                description: "历史悠久的商业图表库，图表类型丰富，文档完善，支持多种框架集成。",
                缺点: "免费限制多，试用期短，商业授权昂贵。",
                comments: [
                    "样式美观，集成方便，官方支持好。",
                    "免费体验太少，不适合个人开发者。"
                ],
                example: "FusionCharts.ready(function() {\n  var chart = new FusionCharts({/* 配置 */});\n  chart.render();\n});",
                useCase: "适用于预算充足的企业级项目，需要官方技术支持和丰富图表类型的场景。"
            },
            {
                id: 22,
                name: "Charts.css",
                url: "https://chartscss.org/",
                type: ["CSS图表", "轻量级", "无JavaScript"],
                language: "CSS",
                popularity: 5.5,
                description: "基于 CSS 的轻量图表库，无需 JavaScript，体积极小，易于集成。",
                缺点: "功能极其有限，交互性差，只支持基础图表。",
                comments: [
                    "无需 JS，极轻量，对性能要求极高的场景适用。",
                    "复杂场景没法用，交互几乎没有。"
                ],
                example: "<div class=\"charts-css column\"\n  style=\"--chart-colors: var(--colors-10);\"\n  data-charts-values=\"12, 31, 22, 17, 25, 18, 29, 14, 9\">\n  <!-- 图表元素 -->\n</div>",
                useCase: "适用于对体积和性能有严格要求的场景，或只需要简单静态图表展示的页面。"
            },
            {
                id: 23,
                name: "VX (旧版 Visx)",
                url: "https://github.com/airbnb/visx",
                type: ["React专用", "基于D3", "模块化"],
                language: "JavaScript/React",
                popularity: 6.0,
                description: "Airbnb 最初的 React 可视化库，后更名为 Visx，模块化设计，灵活性高。",
                缺点: "已被 Visx 替代，不再维护，存在潜在问题。",
                comments: [
                    "早期版本依然有人用，组件设计很优雅。",
                    "现在应该转向 Visx，这个版本已经过时了。"
                ],
                example: "import { Bar } from '@vx/shape';\n<Bar data={data} /* 属性 */ />",
                useCase: "主要用于维护旧项目，新项目应优先选择 Visx。"
            },
            {
                id: 24,
                name: "RawGraphs",
                url: "https://rawgraphs.io/",
                type: ["可视化工具", "拖拽式", "开源"],
                language: "Web应用",
                popularity: 6.5,
                description: "开源可视化平台，拖拽式导出图表，支持多种数据格式，适合非技术人员。",
                缺点: "只能离线导出，不适合动态项目，定制化有限。",
                comments: [
                    "对设计师友好，不需要写代码就能生成专业图表。",
                    "做产品嵌入不行，只能用于静态图表生成。"
                ],
                example: "通过网页界面上传数据，选择图表类型，拖拽配置后导出",
                useCase: "适用于设计师、分析师等非技术人员生成静态可视化图表，用于报告、文章等。"
            },
            {
                id: 25,
                name: "Chartist.js",
                url: "https://gionkunz.github.io/chartist-js/",
                type: ["通用图表库", "轻量级", "SVG"],
                language: "JavaScript",
                popularity: 6.2,
                description: "轻量 SVG 图表库，响应式设计，API 简洁，易于扩展和定制。",
                缺点: "更新慢，功能有限，社区活跃度低。",
                comments: [
                    "小巧灵活，SVG 输出质量高，易于定制样式。",
                    "大项目不推荐，功能不够用，维护不积极。"
                ],
                example: "new Chartist.Bar('#chart', {\n  labels: ['A', 'B', 'C'],\n  series: [[1, 3, 2]]\n});",
                useCase: "适用于需要轻量级解决方案的小型项目，对图表功能要求不高的场景。"
            }
        ];

        // DOM元素引用
        const listEl = document.getElementById('list');
        const statsEl = document.getElementById('stats');
        const qEl = document.getElementById('q');
        const categoryEl = document.getElementById('category');
        const sortEl = document.getElementById('sort');
        const menuBtn = document.getElementById('menuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const backToTopBtn = document.getElementById('backToTop');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const errorIndicator = document.getElementById('errorIndicator');
        const retryBtn = document.getElementById('retryBtn');
        const recommendBtn = document.getElementById('recommendBtn');
        const recommendationResult = document.getElementById('recommendationResult');
        const recommendationContent = document.getElementById('recommendationContent');
        const envPreference = document.getElementById('envPreference');
        const chartType = document.getElementById('chartType');
        const techNeeds = document.getElementById('techNeeds');
        const projectType = document.getElementById('projectType');

        // 获取编程语言对应的颜色类
        function getLanguageColor(language) {
            switch(language.toLowerCase()) {
                case 'javascript':
                case 'javascript/react': return 'javascript';
                case 'react': return 'react';
                case 'python': return 'python';
                case 'java': return 'java';
                case 'css': return 'css';
                default: return 'primary';
            }
        }

        // 获取类型对应的颜色类
        function getTypeColor(type) {
            if (type.includes('网络图') || type.includes('关系图')) return 'accent';
            if (type.includes('React') || type.includes('组件化')) return 'react';
            if (type.includes('科学') || type.includes('统计')) return 'secondary';
            if (type.includes('时间序列')) return 'success';
            if (type.includes('轻量级') || type.includes('CSS')) return 'muted';
            return 'primary';
        }

        // 渲染图表库列表
        function render(items) {
            try {
                // 隐藏加载和错误指示器
                loadingIndicator.classList.add('hidden');
                errorIndicator.classList.add('hidden');
                
                // 清空列表
                listEl.innerHTML = '';
                
                // 添加新项并应用动画
                items.forEach((it, index) => {
                    const card = document.createElement('article');
                    card.className = `bg-card rounded-xl p-5 border border-gray-800 shadow-card card-hover animate-fade-in`;
                    card.style.animationDelay = `${index * 30}ms`;
                    card.dataset.name = it.name.toLowerCase();
                    card.dataset.type = it.type.join(' ').toLowerCase();
                    card.dataset.language = it.language.toLowerCase();
                    
                    // 构建类型标签
                    const typeTags = it.type.map(type => {
                        const colorClass = getTypeColor(type);
                        return `<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-${colorClass}/20 text-${colorClass} mr-2 mb-2">
                            ${type}
                        </span>`;
                    }).join('');
                    
                    // 构建星级评分（受欢迎度）
                    const popularityHtml = [];
                    for (let i = 1; i <= 10; i++) {
                        if (i <= Math.floor(it.popularity)) {
                            popularityHtml.push('<i class="fa fa-star text-yellow-500"></i>');
                        } else if (i - it.popularity <= 0.5) {
                            popularityHtml.push('<i class="fa fa-star-half-o text-yellow-500"></i>');
                        } else {
                            popularityHtml.push('<i class="fa fa-star-o text-yellow-500"></i>');
                        }
                    }
                    
                    // 编程语言标签
                    const langColor = getLanguageColor(it.language);
                    const langTag = `<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-${langColor}/20 text-${langColor}">
                        ${it.language}
                    </span>`;
                    
                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-lg font-semibold text-white">${it.name}</h3>
                            <div class="flex flex-col items-end">
                                <div class="flex mb-1">
                                    ${popularityHtml.join('')}
                                </div>
                                <span class="text-xs text-muted">${it.popularity.toFixed(1)}/10</span>
                            </div>
                        </div>
                        
                        <div class="mb-3 flex items-center">
                            ${langTag}
                        </div>
                        
                        <div class="mb-3 flex flex-wrap">
                            ${typeTags}
                        </div>
                        
                        <div class="mb-3">
                            <div class="flex items-center text-xs text-muted mb-1">
                                <i class="fa fa-info-circle mr-1 text-secondary"></i>简介
                            </div>
                            <p class="text-gray-300 text-sm">${it.description}</p>
                        </div>
                        
                        <div class="mb-3">
                            <div class="flex items-center text-xs text-muted mb-1">
                                <i class="fa fa-exclamation-triangle mr-1 text-accent"></i>缺点
                            </div>
                            <p class="text-gray-300 text-sm">${it.缺点}</p>
                        </div>
                        
                        <div class="mb-4">
                            <div class="flex items-center text-xs text-muted mb-1">
                                <i class="fa fa-comments mr-1 text-secondary"></i>用户评论
                            </div>
                            <ul class="space-y-1 text-gray-300 text-sm">
                                ${it.comments.map(comment => `
                                    <li class="flex items-start">
                                        <i class="fa fa-quote-left text-xs text-muted mt-1 mr-2"></i>
                                        <span>${comment}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                        
                        <div class="mb-3">
                            <div class="flex items-center text-xs text-muted mb-1">
                                <i class="fa fa-terminal mr-1 text-secondary"></i>示例代码
                            </div>
                            <div class="bg-dark rounded-md p-2 text-xs font-mono text-gray-300 relative group">
                                <code>${it.example}</code>
                                <button class="copy-btn absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-muted hover:text-primary" 
                                        data-clipboard-text="${it.example}">
                                    <i class="fa fa-clipboard"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <div class="flex items-center text-xs text-muted mb-1">
                                <i class="fa fa-check-square-o mr-1 text-secondary"></i>适用场景
                            </div>
                            <p class="text-gray-300 text-sm">${it.useCase}</p>
                        </div>
                        
                        <a href="${it.url}" target="_blank" rel="noopener" class="inline-flex items-center text-primary hover:text-primary/80 text-sm transition-colors">
                            <i class="fa fa-external-link mr-1 text-xs"></i> 访问官网 / 仓库
                        </a>
                    `;
                    
                    listEl.appendChild(card);
                });
                
                // 添加复制按钮事件
                document.querySelectorAll('.copy-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const text = this.getAttribute('data-clipboard-text');
                        navigator.clipboard.writeText(text).then(() => {
                            // 显示复制成功效果
                            const codeBlock = this.parentElement;
                            codeBlock.classList.add('clipboard-success');
                            setTimeout(() => {
                                codeBlock.classList.remove('clipboard-success');
                            }, 2000);
                        });
                    });
                });
                
                // 更新统计信息
                statsEl.textContent = `共 ${items.length} 款图表库`;
            } catch (error) {
                console.error('渲染图表库列表时出错:', error);
                showErrorState();
            }
        }

        // 应用筛选和排序
        function applyFilters() {
            try {
                // 显示加载状态
                loadingIndicator.classList.remove('hidden');
                errorIndicator.classList.add('hidden');
                
                const query = qEl.value.trim().toLowerCase();
                const category = categoryEl.value;
                
                // 筛选
                let filtered = CHART_LIBRARIES.filter(item => {
                    // 搜索匹配
                    const matchesQuery = !query || 
                        item.name.toLowerCase().includes(query) ||
                        item.language.toLowerCase().includes(query) ||
                        item.type.some(t => t.toLowerCase().includes(query)) ||
                        item.description.toLowerCase().includes(query) ||
                        item.缺点.toLowerCase().includes(query) ||
                        item.comments.some(comment => comment.toLowerCase().includes(query));
                    
                    // 类别匹配
                    const matchesCategory = !category || 
                        (category === '通用图表库' && item.type.includes('通用图表库')) ||
                        (category === 'React专用' && item.type.some(t => t.includes('React'))) ||
                        (category === '科学可视化' && item.type.some(t => t.includes('科学'))) ||
                        (category === '网络图/关系图' && item.type.some(t => t.includes('网络') || t.includes('关系'))) ||
                        (category === '时间序列' && item.type.includes('时间序列')) ||
                        (category === '其他' && !['通用图表库', 'React专用', '科学可视化', '网络图/关系图', '时间序列'].some(c => 
                            item.type.some(t => t.includes(c.split('/')[0]) || t.includes(c.split('/')[1]) || t === c)));
                    
                    return matchesQuery && matchesCategory;
                });
                
                // 排序
                const sortBy = sortEl.value;
                filtered.sort((a, b) => {
                    if (sortBy === "popularity") {
                        // 按受欢迎度降序排序
                        return b.popularity - a.popularity;
                    } else {
                        // 按名称排序
                        return a.name.localeCompare(b.name);
                    }
                });
                
                // 短暂延迟以展示加载状态
                setTimeout(() => {
                    render(filtered);
                }, 300);
                
            } catch (error) {
                console.error('筛选图表库时出错:', error);
                showErrorState();
            }
        }

        // 推荐图表库
        function recommendChartLibrary() {
            const env = envPreference.value;
            const type = chartType.value;
            const needs = techNeeds.value;
            const project = projectType.value;
            
            // 验证是否填写了必要信息
            if (!env || !type || !needs || !project) {
                recommendationContent.className = 'p-3 rounded-lg border border-danger/50 bg-danger/10';
                recommendationContent.innerHTML = `<div class="flex items-center"><i class="fa fa-exclamation-circle text-danger mr-2"></i> <span>请填写所有选项以获取推荐</span></div>`;
                recommendationResult.classList.remove('hidden');
                return;
            }
            
            // 根据选择生成推荐
            let recommendations = [];
            
            // React 环境
            if (env === 'react') {
                if (needs === 'simple') {
                    recommendations.push("Recharts");
                } else if (needs === 'custom') {
                    recommendations.push("Visx");
                } else if (needs === 'interactive') {
                    recommendations.push("Nivo");
                } else { // performance
                    recommendations.push("Recharts");
                }
            } 
            // 原生 JavaScript 环境
            else if (env === 'vanilla') {
                if (type === 'basic') {
                    if (needs === 'simple') {
                        recommendations.push("Chart.js");
                    } else {
                        recommendations.push("ECharts");
                    }
                } else if (type === 'advanced') {
                    if (needs === 'custom') {
                        recommendations.push("D3.js");
                    } else {
                        recommendations.push("ECharts");
                    }
                } else if (type === 'network') {
                    recommendations.push("AntV G6");
                } else if (type === 'time') {
                    recommendations.push("ApexCharts.js");
                } else { // scientific
                    recommendations.push("Plotly.js");
                }
            }
            // Vue 环境
            else if (env === 'vue') {
                recommendations.push("ECharts（可通过 vue-echarts 集成）");
            }
            // Angular 环境
            else if (env === 'angular') {
                recommendations.push("ngx-charts");
            }
            // 其他环境或无所谓
            else {
                if (needs === 'simple') {
                    recommendations.push("Chart.js");
                } else if (needs === 'custom') {
                    recommendations.push("D3.js");
                } else if (needs === 'interactive') {
                    recommendations.push("ECharts");
                } else { // performance
                    recommendations.push("ECharts 或 Chart.js");
                }
            }
            
            // 商业项目额外考虑
            if (project === 'commercial') {
                if (!recommendations.some(r => r.includes('ECharts') || r.includes('Chart.js') || r.includes('D3.js'))) {
                    recommendations.push("注意：商业项目请确认图表库的开源许可是否允许商用");
                }
            }
            
            // 显示推荐结果
            recommendationContent.className = 'p-3 rounded-lg border border-success/50 bg-success/10';
            recommendationContent.innerHTML = `
                <div class="flex items-center mb-2"><i class="fa fa-lightbulb-o text-success mr-2"></i> <span>为您推荐的图表库：</span></div>
                <ul class="list-disc pl-5 space-y-1">
                    ${recommendations.map(rec => `<li>${rec}</li>`).join('')}
                </ul>
            `;
            recommendationResult.classList.remove('hidden');
        }

        // 显示错误状态
        function showErrorState() {
            loadingIndicator.classList.add('hidden');
            errorIndicator.classList.remove('hidden');
            statsEl.textContent = `加载失败`;
            statsEl.classList.add('text-danger');
        }

        // 移动端菜单切换
        menuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            if (!mobileMenu.classList.contains('hidden')) {
                mobileMenu.style.maxHeight = '0';
                setTimeout(() => {
                    mobileMenu.style.maxHeight = mobileMenu.scrollHeight + 'px';
                }, 10);
            } else {
                mobileMenu.style.maxHeight = '0';
            }
        });
        
        mobileMenu.style.overflow = 'hidden';
        mobileMenu.style.transition = 'max-height 0.3s ease-out';

        // 回到顶部按钮
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTopBtn.classList.remove('opacity-0', 'invisible');
                backToTopBtn.classList.add('opacity-100', 'visible');
            } else {
                backToTopBtn.classList.add('opacity-0', 'invisible');
                backToTopBtn.classList.remove('opacity-100', 'visible');
            }

            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.classList.add('py-2', 'shadow-md');
                header.classList.remove('py-4', 'shadow-sm');
            } else {
                header.classList.add('py-4', 'shadow-sm');
                header.classList.remove('py-2', 'shadow-md');
            }
        });

        backToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // 绑定筛选事件
        qEl.addEventListener('input', applyFilters);
        categoryEl.addEventListener('change', applyFilters);
        sortEl.addEventListener('change', applyFilters);

        // 重试按钮事件
        retryBtn.addEventListener('click', applyFilters);

        // 推荐按钮事件
        recommendBtn.addEventListener('click', recommendChartLibrary);

        // 外部链接提示
        document.addEventListener('click', (e) => {
            const link = e.target.closest('a[target="_blank"]');
            if (link) {
                const confirmLeave = confirm('即将跳转到外部网站，是否继续？');
                if (!confirmLeave) {
                    e.preventDefault();
                }
            }
        });

        // 初始化页面
        function initializePage() {
            try {
                // 确保DOM完全加载
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', applyFilters);
                } else {
                    // 立即执行筛选和渲染
                    applyFilters();
                }
            } catch (error) {
                console.error('页面初始化失败:', error);
                showErrorState();
            }
        }

        // 启动页面初始化
        initializePage();
    </script>
<script type="module" src="/main.js"></script>
</body>
</html>
